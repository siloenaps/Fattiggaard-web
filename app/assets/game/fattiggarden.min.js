function ButtonGroup(){"use strict";this.selected=null,this.buttonList=[]}function SoundController(t,e){"use strict";this.loopCount=e,(void 0===e||null===e)&&(this.loopCount=!1),this.audioPath=t}var RadioButton=function(t,e){"use strict";return null===t?(console.log("RadioButton view is null:",this),void 0):(t.stop(),this.view=t,this.active=!1,this.enabled=!0,this.args=e,this.listeners={},(void 0===this.listeners.click||null===this.listeners.click)&&(this.listeners.click=this.view.on("click",this.onClick,this)),(void 0===this.listeners.mouseover||null===this.listeners.mouseover)&&(this.listeners.mouseover=this.view.on("mouseover",this.onOver,this)),(void 0===this.listeners.mouseout||null===this.listeners.mouseout)&&(this.listeners.mouseout=this.view.on("mouseout",this.onOut,this)),void 0===RadioButton.counter?RadioButton.counter=0:RadioButton.counter++,this.id=RadioButton.counter,void 0)};RadioButton.prototype.getValue=function(){"use strict";return this.args.value},RadioButton.prototype.disable=function(){"use strict";this.enabled=!1,this.view.mouseEnabled=!1},RadioButton.prototype.ghost=function(){"use strict";this.enabled=!1,this.view.alpha=.2,this.view.mouseEnabled=!1},RadioButton.prototype.setActive=function(t){"use strict";t?(this.view.gotoAndStop("active"),this.active=!0,this.mouseEnabled=!1):(this.view.gotoAndStop("inactive"),this.active=!1,this.mouseEnabled=!0)},RadioButton.prototype.onClick=function(){"use strict";if(this.active||!this.enabled)return!1;var t=new createjs.Event("click");this.dispatchEvent(t)},RadioButton.prototype.onOver=function(){"use strict";this.enabled&&Cursor.over()},RadioButton.prototype.onOut=function(){"use strict";this.enabled&&Cursor.out()},RadioButton.prototype.reset=function(){"use strict";this.active=!1,this.enabled=!0,this.view.gotoAndStop("inactive")},RadioButton.prototype.destroy=function(){"use strict";this.view=null,this.active=!1,this.enabled=!0,this.args=null,this.listeners=null},createjs.EventDispatcher.initialize(RadioButton.prototype);var Dropdown=function(t,e){"use strict";if(null===t)return console.log("Dropdown view is null:",this),void 0;t.stop(),this.view=t,this.active=!0,this.args=e,this.listeners={},(void 0===this.listeners.click||null===this.listeners.click)&&(this.listeners.click=this.view.hitarea.on("click",this.onClick,this)),void 0===Dropdown.counter?Dropdown.counter=0:Dropdown.counter++,this.id=Dropdown.counter,this.view.label.text="",this.item=function(t,e,n){this.id=t,this.listener=e.on("click",function(){n(e)},this)};{var n=this,i=function(t){createjs.Tween.get(t).to({alpha:0},40,createjs.Ease.linear).to({alpha:1},40,createjs.Ease.linear).to({alpha:0},40,createjs.Ease.linear).to({alpha:1},40,createjs.Ease.linear).call(function(){n.view.label.text=t.label.text,n.view.gotoAndStop("closed")})};new this.item("A",this.view.item_A,i),new this.item("B",this.view.item_B,i),new this.item("C",this.view.item_C,i)}};Dropdown.prototype.setActive=function(t){"use strict";t?this.view.gotoAndStop("open"):this.view.gotoAndStop("closed")},Dropdown.prototype.onClick=function(){"use strict";this.view.gotoAndStop("open");var t=new createjs.Event("click");this.dispatchEvent(t)},Dropdown.prototype.reset=function(){"use strict";this.enabled=!0,this.view.gotoAndStop("inactive")},Dropdown.prototype.destroy=function(){"use strict";this.view=null,this.active=!1,this.enabled=!0,this.args=null,this.listeners=null},createjs.EventDispatcher.initialize(Dropdown.prototype);var Cursor={root:null,init:function(t){"use strict";this.root=t},over:function(){"use strict";this.root.cursor="pointer"},out:function(){"use strict";this.root.cursor="auto"}},ContinueButton={init:function(t){"use strict";if(void 0===t)throw new Error("'view' is undefined");this.type=null,this.destroy(),this.view=t,this.nextBtnInstance=null,this.skipBtnInstance=null,this.listners={},null===this.nextBtnInstance&&(this.nextBtnInstance=new ButtonCustom(this.view.nextBtn)),null===this.skipBtnInstance&&(this.skipBtnInstance=new ButtonCustom(this.view.skipBtn)),this.skipBtnInstance.visible(!1),this.nextBtnInstance.visible(!1),this.listners.skip=this.skipBtnInstance.on("click",this.onClick,this),this.listners.next=this.nextBtnInstance.on("click",this.onClick,this)},activate:function(t){"use strict";switch(this.type=t,t){case"next":this.skipBtnInstance.visible(!1),this.nextBtnInstance.setActive(!0);break;case"skip":this.skipBtnInstance.setActive(!0),this.nextBtnInstance.visible(!1)}},ghost:function(t){"use strict";switch(this.type=t,t){case"next":this.skipBtnInstance.visible(!1),this.nextBtnInstance.setActive(!1);break;case"skip":this.skipBtnInstance.setActive(!1),this.nextBtnInstance.visible(!1)}},hide:function(){"use strict";switch(this.type){case"next":this.nextBtnInstance.visible(!1);break;case"skip":this.skipBtnInstance.visible(!1)}},show:function(){"use strict";switch(this.type){case"next":this.nextBtnInstance.visible(!0);break;case"skip":this.skipBtnInstance.visible(!0)}},onClick:function(){"use strict";var t=new createjs.Event("click");this.dispatchEvent(t)},destroy:function(){"use strict";void 0!==this.listners&&(null!=this.listners.skip&&this.skipBtnInstance.off("click",this.listners.skip),null!=this.listners.next&&this.nextBtnInstance.off("click",this.listners.next)),this.view=null}};createjs.EventDispatcher.initialize(ContinueButton);var CheckboxGroup={clickedCounter:0,setup:function(t,e,n){"use strict";var i=this;this.clickedCounter=0,this.delegate=n,this.group=new ButtonGroup;for(var o=0;o<t.length;o++){var r=new RadioButton(t[o],{value:e[o]});this.group.add(r)}this.listener=this.group.on("click",function(t){i.clickedCounter++,null!=i.delegate&&i.delegate({clicked:i.clickedCounter,value:t.data.value})})},disableCheckbox:function(t){this.group.disableByValue(t)},clear:function(){"use strict";null!=this.group&&(this.group.reset(),null!=this.listener&&this.group.off("click",this.listener),this.group=null),this.delegate=null}};ButtonGroup.prototype.add=function(t){"use strict";t.on("click",this.onClick,this),this.buttonList.push(t)},ButtonGroup.prototype.setSelected=function(t){"use strict";var e=this;setTimeout(function(){e.buttonList[t].setActive(!0)},100)},ButtonGroup.prototype.onClick=function(t){"use strict";var e=t.target;null!==this.selected&&(this.selected.active?this.selected.setActive(!1):this.selected.setActive(!0)),e.active?e.setActive(!1):e.setActive(!0),this.selected=e;var n=new createjs.Event("click");n.data={value:e.getValue()},this.dispatchEvent(n)},ButtonGroup.prototype.disable=function(){"use strict";for(var t=0;t<this.buttonList.length;t++){var e=this.buttonList[t];e.disable()}},ButtonGroup.prototype.disableByValue=function(t){"use strict";for(var e=0;e<this.buttonList.length;e++){var n=this.buttonList[e];if(n.getValue()===t)return n.ghost(),void 0}},ButtonGroup.prototype.getButtonByValue=function(t){"use strict";for(var e=0;e<this.buttonList.length;e++){var n=this.buttonList[e];if(n.getValue()===t)return n}},ButtonGroup.prototype.reset=function(){"use strict";this.selected=null;for(var t=0;t<this.buttonList.length;t++){var e=this.buttonList[t];e.reset()}},ButtonGroup.prototype.destroy=function(){"use strict";for(var t=0;t<this.buttonList.length;t++){var e=this.buttonList[t];e.destroy()}this.buttonList=null,this.selected=null},createjs.EventDispatcher.initialize(ButtonGroup.prototype);var ButtonCustom=function(t){"use strict";this.view=t,this.active=!0,this.view.on("click",this.onClick,this),this.view.on("mouseover",this.onOver,this),this.view.on("mouseout",this.onOut,this),null===ButtonCustom.counter?ButtonCustom.counter=0:ButtonCustom.counter++,this.id=ButtonCustom.counter};ButtonCustom.prototype.goto=function(t){"use strict";this.view.gotoAndStop(t)},ButtonCustom.prototype.visible=function(t){"use strict";this.view.visible=t},ButtonCustom.prototype.setActive=function(t){"use strict";this.view.visible=!0,this.active=t,this.view.alpha=this.active?1:.2,this.view.mouseEnabled=t},ButtonCustom.prototype.onClick=function(){"use strict";if(!this.active)return!1;var t=new createjs.Event("click");this.dispatchEvent(t)},ButtonCustom.prototype.onOver=function(){"use strict";return this.active?(Cursor.over(),void 0):!1},ButtonCustom.prototype.onOut=function(){"use strict";return this.active?(Cursor.out(),void 0):!1},ButtonCustom.prototype.destroy=function(){"use strict";this.view=null},createjs.EventDispatcher.initialize(ButtonCustom.prototype);var PageMap=function(t){return{currentPage:null,container:t,startInfo:!1,view:null,trigger:"map",continueBtn:ContinueButton,listeners:{},start:function(){"use strict";createjs.EventDispatcher.initialize(this),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this),this.id="map",LoadJS.load(["../assets/logic/map.js"],Delegate.create(this.setup,this))},next:function(){this.flow.next(this.trigger)},setup:function(){"use strict";if(null==this.runonce){var t=this;this.runonce=!0,this.flow=new SubFlowController,this.flow.addAction("map",Delegate.create(this.map,this),"end"),this.flow.addAction("end",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this));try{this.lib=lib;var e=this.lib.map,n=this.lib.properties.manifest,i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){t.view=new e,t.container.addChild(t.view),t.flow.next(t.trigger),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(n,i,o,"full")}catch(r){console.log(r)}}},setInfo:function(t){this.startInfo=t},onContinue:function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},removeEvents:function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},restart:function(){"use strict";this.currentPage=null},destroy:function(){"use strict";this.currentPage=null,this.flow.destroy(),this.flow=null,this.container=null,this.currentBackground=null,this.trigger=null,this.view=null,null!=this.playerComponent&&this.playerComponent.destroy(),this.playerComponent=null},map:function(t){this.continueBtn.ghost("next"),this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_5);var n=this.currentPage;this.currentPage=this.view.page_map,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.medium)},this));var i=new RadioButton(this.currentPage.checkbox1,{value:"horsens"}),o=new RadioButton(this.currentPage.checkbox2,{value:"sundholm"}),r=new RadioButton(this.currentPage.checkbox3,{value:"svendborg"});this.group=new ButtonGroup,this.group.add(i),this.group.add(o),this.group.add(r),this.eventGroupListener=this.group.on("click",function(t){PlayerStats.poorhouse=t.data.value,e.continueBtn.activate("next"),e.continueBtn.on("click",function(n){n.remove(),t.remove(),e.dispatchEvent(new createjs.Event("continue"))})},this),this.currentPage.infotext.visible=this.startInfo,this.currentPage.headline.visible=!this.startInfo,this.currentPage.infopopup.visible=!1;var s={};s.horsens=new ButtonCustom(this.currentPage.info1),s.sundholm=new ButtonCustom(this.currentPage.info2),s.svendborg=new ButtonCustom(this.currentPage.info3),s.horsens.id=0,s.sundholm.id=1,s.svendborg.id=2;var a=function(t){"use strict";e.currentPage.infopopup.gotoAndStop(t),e.currentPage.infopopup.x=0,e.currentPage.infopopup.visible=!0,e.continueBtn.hide()},c=function(){"use strict";e.currentPage.infopopup.x=1024,e.currentPage.infopopup.visible=!1,e.continueBtn.show()};this.listeners.horsens=s.horsens.on("click",function(t){console.log(t),a(t.target.id)},this),this.listeners.sundholm=s.sundholm.on("click",function(t){a(t.target.id)},this),this.listeners.svendborg=s.svendborg.on("click",function(t){a(t.target.id)},this),null!==PlayerStats.poorhouse&&void 0!==PlayerStats.poorhouse&&(this.group.disableByValue(PlayerStats.poorhouse),s[PlayerStats.poorhouse].setActive(!1),s[PlayerStats.poorhouse].off("click",this.listeners[PlayerStats.poorhouse])),this.listeners.closebutton=this.currentPage.infopopup.closebutton.on("click",function(){c()},this)}}},PageIntroSlide=function(t){"use strict";this.container=t,this.id=null,this.view=null,this.lib=null,this.slideLib=null,this.playerComponent=null,this.listeners={},this.trigger="start",this.currentPage=null,this.currentBackground=null,this.groups={},this.continueBtn=ContinueButton,this.continueBtn.ghost("skip"),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this)};PageIntroSlide.prototype.setPortrait=function(t){this.portrait=t},PageIntroSlide.prototype.start=function(t,e){this.id=PlayerStats.poorhouse,this.flowId=t,this.slideName=e;LoadJS.load(["../assets/logic/games/poorhouse_intro.js","../assets/logic/slides/"+e+".js"],Delegate.create(this.setup,this))},PageIntroSlide.prototype.setup=function(){"use strict";if(console.log("PageIntroSlide::setup:runonce",this.container),null==this.runonce){this.runonce=!0,Tick.framerate(Tick.high);var t=this;this.flow=new SubFlowController,this.flow.addAction("start",Delegate.create(this.intro,this),"end"),this.flow.addAction("end",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this)),this.addContent()}},PageIntroSlide.prototype.addContent=function(){var t=this;this.lib=gamelib,this.slideLib=slidelib,Clss=this.lib.poorhouse_intro,manifest=this.lib.properties.manifest;try{this.bgImage="0.1"===this.flowId?ImageService.matrix[this.flowId]:ImageService.matrix[this.flowId][PlayerStats.poorhouse];{var e=this.bgImage.src.split("/"),n=e[e.length-1];n.split(".")[0]}}catch(i){}var o=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},r=function(){console.log("onLoadComplete"),t.view=new Clss,t.container.addChild(t.view),t.next(),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(manifest,o,r,"full")},PageIntroSlide.prototype.next=function(){"use strict";this.flow.next(this.trigger)},PageIntroSlide.prototype.onComplete=function(){"use strict";null!=this.playerComponent&&this.playerComponent.off("complete",this.listeners.complete),this.continueBtn.activate("next")},PageIntroSlide.prototype.onContinue=function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},PageIntroSlide.prototype.removeEvents=function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},PageIntroSlide.prototype.destroy=function(){"use strict";this.removeEvents(),null!=this.playerComponent&&(this.playerComponent.off("complete",this.listeners.complete),this.playerComponent.destroy(),this.playerComponent=null),this.view=null,this.lib=null,this.currentPage=null,this.listeners=null,this.flow=null},PageIntroSlide.prototype.intro=function(t){"use strict";this.trigger=t;var e=this;this.currentPage=this.view.intro,this.currentPage.x=0,this.view.bg_container.x=0,console.log("this.bgImage.src:",this.bgImage.src);var n=new createjs.Bitmap(this.bgImage.src);this.view.bg_container.addChild(n),this.playerComponent=new PlayerSliderComponent(this.currentPage.player),this.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),this.playerComponent.on("ready",function(t){t.remove(),e.continueBtn.activate("skip")}),this.playerComponent.preload(this.slideName,this.slideLib)},createjs.EventDispatcher.initialize(PageIntroSlide.prototype);var SubFlowController=function(){"use strict";var t=function(t,e){return{delegate:t,triggers:e}};return{actions:{},addAction:function(e,n,i){this.actions[e]=new t(n,i)},next:function(t){Tick.enable(),Tick.framerate(Tick.high);var e=this.actions[t];console.log("next:",t,e);try{e.delegate(e.triggers)}catch(n){console.log(n)}},onComplete:function(){},onContinue:function(){this.next()},destroy:function(){this.actions.triggers=null,this.actions.delegate=null,this.actions=null}}},FlowPrologue=function(t){return{currentPage:null,container:t,view:null,trigger:"0.2.1",continueBtn:ContinueButton,listeners:{},start:function(){"use strict";createjs.EventDispatcher.initialize(this),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this),this.id="epilogue",LoadJS.load(["../assets/logic/games/prologue.js"],Delegate.create(this.setup,this))},next:function(){this.flow.next(this.trigger)},setup:function(){"use strict";if(null==this.runonce){var t=this;this.runonce=!0,this.flow=new SubFlowController,this.flow.addAction("4.11",Delegate.create(Flow.statsSplit,this),{type:"bool",threshold:!1,value:PlayerStats.bomb,triggers:["4.11.1","4.11.2"],callback:Delegate.create(this.next,this)}),this.flow.addAction("0.2.1",Delegate.create(this.intro,this),"0.2.2"),this.flow.addAction("0.2.2",Delegate.create(this.challenge,this),"0.2.3"),this.flow.addAction("0.2.3",Delegate.create(this.family,this),"0.2.4"),this.flow.addAction("0.2.4",Delegate.create(this.nickname,this),"0.3"),this.flow.addAction("0.3",Delegate.create(this.card,this),"0.4"),this.flow.addAction("0.4",Delegate.create(this.opinion,this),"end"),this.flow.addAction("end",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this));try{this.lib=gamelib;var e=this.lib.prologue,n=this.lib.properties.manifest,i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){t.view=new e,t.container.addChild(t.view),t.flow.next(t.trigger),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(n,i,o,"full")}catch(r){console.log(r)}}},onContinue:function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},removeEvents:function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},restart:function(){"use strict";this.currentPage=null},destroy:function(){"use strict";this.currentPage=null,this.flow.destroy(),this.flow=null,this.container=null,this.currentBackground=null,this.trigger=null,this.view=null,null!=this.playerComponent&&this.playerComponent.destroy(),this.playerComponent=null},intro:function(t){"use strict";this.trigger=t;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_2_1);var e=this.currentPage;this.currentPage=this.view.character_intro,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},challenge:function(t){this.continueBtn.ghost("next"),this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_2_2);var n=this.currentPage;this.currentPage=this.view.character_challenge,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.medium)},this));var i=new RadioButton(this.currentPage.checkbox1,{value:"A"}),o=new RadioButton(this.currentPage.checkbox2,{value:"B"}),r=new RadioButton(this.currentPage.checkbox3,{value:"C"});this.group=new ButtonGroup,this.group.add(i),this.group.add(o),this.group.add(r),this.eventGroupListener=this.group.on("click",function(t){PlayerStats.challenge=t.data.value,e.continueBtn.activate("next"),e.continueBtn.on("click",function(e){e.remove(),t.remove()})},e)},family:function(t){this.continueBtn.ghost("next"),this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_2_3);var n=this.currentPage;this.currentPage=this.view.character_family,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.medium)},this));var i=new RadioButton(this.currentPage.checkbox1,{value:"D"}),o=new RadioButton(this.currentPage.checkbox2,{value:"E"}),r=new RadioButton(this.currentPage.checkbox3,{value:"F"});this.group=new ButtonGroup,this.group.add(i),this.group.add(o),this.group.add(r),this.eventGroupListener=this.group.on("click",function(t){PlayerStats.family=t.data.value,e.continueBtn.activate("next"),e.continueBtn.on("click",function(e){e.remove(),t.remove()})},e)},nickname:function(t){this.continueBtn.ghost("next"),this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_2_4);var n=this.currentPage;this.currentPage=this.view.character_nickname,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.medium)},this));var i=new RadioButton(this.currentPage.checkbox1,{value:1}),o=new RadioButton(this.currentPage.checkbox2,{value:2}),r=new RadioButton(this.currentPage.checkbox3,{value:3}),s=new RadioButton(this.currentPage.checkbox4,{value:4}),a=new RadioButton(this.currentPage.checkbox5,{value:5}),c=new RadioButton(this.currentPage.checkbox6,{value:6});this.group=new ButtonGroup,this.group.add(i),this.group.add(o),this.group.add(r),this.group.add(s),this.group.add(a),this.group.add(c),this.eventGroupListener=this.group.on("click",function(t){PlayerStats.nickname=t.data.value,e.continueBtn.activate("next"),e.continueBtn.on("click",function(e){e.remove(),t.remove()})},e)},card:function(t){"use strict";this.trigger=t;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_3);var e=this.currentPage;this.currentPage=this.view.page_card,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this));var n=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(n),this.currentPage.realname.gotoAndStop(n),this.currentPage.height.gotoAndStop(n),n=PlayerStats.nickname-1,this.currentPage.nickname.gotoAndStop(n),n=PlayerStats.challenge,this.currentPage.challenge.gotoAndStop(n),n=PlayerStats.family,this.currentPage.family.gotoAndStop(n),this.currentPage.kids.gotoAndStop(n),this.continueBtn.activate("next")},opinion:function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_4);var n=PlayerStats.challenge+PlayerStats.family,i=SoundService.matrix["0.4"][n],o=this.currentPage;this.currentPage=this.view.page_opinion,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:o,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(i.src,i.duration)},this));var r=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(r),this.currentPage.playerlabel.gotoAndStop(r),this.currentPage.charactertext.gotoAndStop(r),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},map:function(t){this.continueBtn.ghost("next"),this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_0_5);var n=this.currentPage;this.currentPage=this.view.page_map,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.medium)},this));var i=new RadioButton(this.currentPage.checkbox1,{value:"horsens"}),o=new RadioButton(this.currentPage.checkbox2,{value:"sundholm"}),r=new RadioButton(this.currentPage.checkbox3,{value:"svendborg"});this.group=new ButtonGroup,this.group.add(i),this.group.add(o),this.group.add(r),this.eventGroupListener=this.group.on("click",function(t){PlayerStats.poorhouse=t.data.value,e.continueBtn.activate("next"),e.continueBtn.on("click",function(n){n.remove(),t.remove(),e.dispatchEvent(new createjs.Event("continue"))})},this),this.currentPage.infopopup.visible=!1,this.infoButtons=[],this.infoButtons.push(this.currentPage.info1),this.infoButtons.push(this.currentPage.info2),this.infoButtons.push(this.currentPage.info3),this.currentPage.info1.id=0,this.currentPage.info2.id=1,this.currentPage.info3.id=2;var s=function(t){"use strict";e.currentPage.infopopup.gotoAndStop(t),e.currentPage.infopopup.x=0,e.currentPage.infopopup.visible=!0,e.continueBtn.hide()},a=function(){"use strict";e.currentPage.infopopup.x=1024,e.currentPage.infopopup.visible=!1,e.continueBtn.show()};this.listeners.info1=this.currentPage.info1.on("click",function(t){s(t.target.id)},this),this.listeners.info2=this.currentPage.info2.on("click",function(t){s(t.target.id)},this),this.listeners.info3=this.currentPage.info3.on("click",function(t){s(t.target.id)},this),this.listeners.closebutton=this.currentPage.infopopup.closebutton.on("click",function(){a()},this)}}},FlowPoorhouseSecond=function(t,e){"use strict";this.container=t,this.id=e,this.view=null,this.lib=null,this.playerComponent=null,this.listeners={},this.trigger="3.1",this.currentPage=null,this.currentBackground=null,this.groups={},this.continueBtn=ContinueButton,this.continueBtn.ghost("skip"),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this)};FlowPoorhouseSecond.prototype.start=function(){this.id=PlayerStats.poorhouse;console.log("FlowPoorhouseSecond:start"),LoadJS.load(["../assets/logic/games/"+this.id+"_second.js"],Delegate.create(this.setup,this))},FlowPoorhouseSecond.prototype.setup=function(){"use strict";if(null==this.runonce){this.runonce=!0,Tick.framerate(Tick.high);var t,e,n=this;switch(this.flow=new SubFlowController,this.flow.addAction("3.1",Delegate.create(this.chooseJob,this),"3.2.1"),this.flow.addAction("3.2.1",Delegate.create(this.work,this),"3.2.2"),this.flow.addAction("3.2.2",Delegate.create(this.points1,this),"3.3"),this.flow.addAction("3.3",Delegate.create(this.getout,this),"3.4.1"),this.flow.addAction("3.4.1",Delegate.create(this.playAdvice,this),"3.4.2"),this.flow.addAction("3.4.2",Delegate.create(this.playAdvice,this),"3.5"),this.flow.addAction("3.5",Delegate.create(this.chooseWayOut,this),{A:"3.6.1",B:"3.8"}),this.flow.addAction("3.6.1",Delegate.create(this.farmWork,this),"3.6.2"),this.flow.addAction("3.6.2",Delegate.create(this.points2,this),"3.7.1"),this.flow.addAction("3.7.1",Delegate.create(this.farmworkEnded,this),"3.7.2"),this.flow.addAction("3.7.2",Delegate.create(this.points3,this),"4.0"),this.flow.addAction("3.8",Delegate.create(this.letterWrite,this),"3.9"),this.flow.addAction("3.9",Delegate.create(this.letterAnswer,this),"3.10"),this.flow.addAction("3.10",Delegate.create(this.points4,this),"4.0"),this.flow.addAction("4.0",Delegate.create(function(){n.removeEvents(),n.dispatchEvent(new createjs.Event("continue"))},this)),console.log("FlowPoorhouseSecond:setup",this.id),this.lib=gamelib,this.id){case"horsens":e=this.lib.horsens_second,t=this.lib.properties.manifest;break;case"sundholm":e=this.lib.sundholm_second,t=this.lib.properties.manifest;break;case"svendborg":e=this.lib.svendborg_second,t=this.lib.properties.manifest}var i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){n.view=new e,n.container.addChild(n.view),n.next(),console.log("FlowPoorhouseSecond:onLoadComplete"),n.dispatchEvent(new createjs.Event("ready"))};Preloader.load(t,i,o,"full")}},FlowPoorhouseSecond.prototype.next=function(){"use strict";this.flow.next(this.trigger)},FlowPoorhouseSecond.prototype.onComplete=function(){"use strict";null!=this.playerComponent&&this.playerComponent.off("complete",this.listeners.complete),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.onContinue=function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},FlowPoorhouseSecond.prototype.removeEvents=function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},FlowPoorhouseSecond.prototype.destroy=function(){"use strict";this.removeEvents(),null!=this.playerComponent&&(this.playerComponent.off("complete",this.listeners.complete),this.playerComponent.destroy(),this.playerComponent=null),this.view=null,this.lib=null,this.currentPage=null,this.listeners=null,this.flow=null},FlowPoorhouseSecond.prototype.chooseJob=function(t){"use strict";var e=this;console.log("chooseJob"),this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_1);var n=this.currentPage;this.currentPage=this.view.choosework,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2,this.currentPage.checkbox3],["A","B","C"],Delegate.create(function(t){PlayerStats.job=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this))},FlowPoorhouseSecond.prototype.work=function(t){"use strict";var e=this;this.trigger=t,this.continueBtn.activate("skip");var n=SoundService.matrix["3.2.1"][this.id][PlayerStats.job];this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view["bg_3_2_1"+PlayerStats.job]);var i=this.currentPage;this.currentPage=this.view.work,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=this.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),e.playerComponent=new PlayerSoundComponent(e.currentPage.player),e.continueBtn.ghost("skip")},FlowPoorhouseSecond.prototype.points1=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.getout=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_3);var i=SoundService.matrix[n][this.id],o=this.currentPage;this.currentPage=this.view.getout,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:o,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(i.src,i.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player);var r=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(r),e.continueBtn.ghost("skip")},FlowPoorhouseSecond.prototype.playAdvice=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t;var i=this.currentPage;switch(n){case"3.4.1":this.currentPage=this.view.adviceemployee;break;case"3.4.2":this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_4_2),this.currentPage=this.view.adviceinmate}var o=SoundService.matrix[n];Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(o.src,o.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouseSecond.prototype.chooseWayOut=function(t){"use strict";var e=this,n=this.currentPage;this.currentPage=this.view.choosewayout,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(n){PlayerStats.wayout=n.value,e.trigger=t[PlayerStats.wayout],1===n.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()
}))},this))},FlowPoorhouseSecond.prototype.farmWork=function(t){"use strict";var e=this.trigger;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_6);var n=(SoundService.matrix[e],this.currentPage);this.currentPage=this.view.farmwork,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this));var i=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(i),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.points2=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points2,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.farmworkEnded=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_7);var i=SoundService.matrix[n],o=this.currentPage;this.currentPage=this.view.workended,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:o,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(i.src,i.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player);var r=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(r),e.continueBtn.ghost("skip")},FlowPoorhouseSecond.prototype.points3=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points3,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",-1),PlayerStats.append("mood",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.letterWrite=function(t){"use strict";var e=this;e.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_3_8);var n=this.currentPage;this.currentPage=this.view.letterwrite,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this));var i=new Dropdown(this.currentPage.dropdown_A),o=new Dropdown(this.currentPage.dropdown_B),r=new Dropdown(this.currentPage.dropdown_C),s=this.currentPage.fullscreenButton,a=s.on("mouseover",function(){i.setActive(!1),o.setActive(!1),r.setActive(!1)}),c=PlayerStats.challenge+PlayerStats.family;this.currentPage.realname.gotoAndStop(c),this.continueBtn.on("click",function(t){t.remove(),s.off("click",a)})},FlowPoorhouseSecond.prototype.letterAnswer=function(t){"use strict";this.trigger=t,Transitions.transOutPosition(this.currentPage),this.currentPage=this.view.letteranswer,Transitions.transInAlpha(this.currentPage),this.continueBtn.activate("next")},FlowPoorhouseSecond.prototype.points4=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points4,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("mood",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},createjs.EventDispatcher.initialize(FlowPoorhouseSecond.prototype);var FlowPoorhouse=function(t){"use strict";this.container=t,this.id=null,this.view=null,this.lib=null,this.playerComponent=null,this.listeners={},this.trigger="1.0.2",this.currentPage=null,this.currentBackground=null,this.groups={},this.continueBtn=ContinueButton,this.continueBtn.ghost("skip"),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this)};FlowPoorhouse.prototype.soundEffectPlay=function(t){null!=this.soundEffect&&(this.soundEffect.destroy(),this.soundEffect=null);try{this.soundEffect=new SoundController(t.src,!0),this.soundEffect.volume(t.volume),this.soundEffect.on("ready",Delegate.create(function(t){t.remove(),this.soundEffect.play()},this)),this.soundEffect.load()}catch(e){console.log(e)}},FlowPoorhouse.prototype.soundEffectStop=function(){null!=this.soundEffect&&(this.soundEffect.stop(),this.soundEffect.destroy(),this.soundEffect=null)},FlowPoorhouse.prototype.start=function(){this.id=PlayerStats.poorhouse;LoadJS.load(["../assets/logic/games/"+this.id+".js"],Delegate.create(this.setup,this))},FlowPoorhouse.prototype.setup=function(){"use strict";if(null==this.runonce){this.runonce=!0,Tick.framerate(Tick.high);var t,e,n=this;switch(this.flow=new SubFlowController,this.flow.addAction("1.0.2",Delegate.create(this.points1,this),"1.1.1"),this.flow.addAction("1.1.1",Delegate.create(this.caretaker,this),"1.1.2"),this.flow.addAction("1.1.2",Delegate.create(this.chooseJob,this),"1.2.1"),this.flow.addAction("1.2.1",Delegate.create(this.work,this),"1.2.2"),this.flow.addAction("1.2.2",Delegate.create(this.points2,this),"1.3.1"),this.flow.addAction("1.3.1",Delegate.create(this.points3,this),"1.3.2"),this.flow.addAction("1.3.2",Delegate.create(this.getout,this),"1.3.3"),this.flow.addAction("1.3.3",Delegate.create(this.playAdvice,this),"1.3.4"),this.flow.addAction("1.3.4",Delegate.create(this.playAdvice,this),"1.3.5"),this.flow.addAction("1.3.5",Delegate.create(this.chooseWayOut,this),{A:"1.5.1",B:"2.1"}),this.flow.addAction("1.5.1",Delegate.create(this.drunk,this),"1.5.2"),this.flow.addAction("1.5.2",Delegate.create(this.points7,this),"1.6.1"),this.flow.addAction("1.6.1",Delegate.create(this.constable,this),"1.6.2"),this.flow.addAction("1.6.2",Delegate.create(this.report,this),"1.6.3"),this.flow.addAction("1.6.3",Delegate.create(this.points6,this),"1.8"),this.flow.addAction("1.8",Delegate.create(this.backToPoorhouse,this),"2.1"),this.flow.addAction("2.1",Delegate.create(this.recruimentOffice,this),"2.2.1"),this.flow.addAction("2.2.1",Delegate.create(this.jobInterviewPart1,this),"2.2.2"),this.flow.addAction("2.2.2",Delegate.create(this.chooseJobGermany,this),"2.2.3"),this.flow.addAction("2.2.3",Delegate.create(this.jobInterviewPart2,this),"2.2.4"),this.flow.addAction("2.2.4",Delegate.create(this.points8,this),"2.3"),this.flow.addAction("2.3",Delegate.create(this.recruitementLetter,this),"2.4"),this.flow.addAction("2.4",Delegate.create(this.points9,this),"2.5"),this.flow.addAction("2.5",Delegate.create(function(){n.removeEvents(),n.dispatchEvent(new createjs.Event("continue"))},this)),this.lib=gamelib,this.id){case"horsens":e=this.lib.horsens,t=this.lib.properties.manifest;break;case"sundholm":e=this.lib.sundholm,t=this.lib.properties.manifest;break;case"svendborg":e=this.lib.svendborg,t=this.lib.properties.manifest}var i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){n.view=new e,n.container.addChild(n.view),n.next(),n.dispatchEvent(new createjs.Event("ready"))};Preloader.load(t,i,o,"full")}},FlowPoorhouse.prototype.next=function(){"use strict";this.flow.next(this.trigger)},FlowPoorhouse.prototype.onComplete=function(){"use strict";null!=this.playerComponent&&this.playerComponent.off("complete",this.listeners.complete),this.continueBtn.activate("next")},FlowPoorhouse.prototype.onContinue=function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.soundEffectStop(),this.next()},FlowPoorhouse.prototype.removeEvents=function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},FlowPoorhouse.prototype.destroy=function(){"use strict";this.removeEvents(),null!=this.playerComponent&&(this.playerComponent.off("complete",this.listeners.complete),this.playerComponent.destroy(),this.playerComponent=null),this.view=null,this.lib=null,this.currentPage=null,this.listeners=null,this.flow=null},FlowPoorhouse.prototype.points1=function(t){"use strict";this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_0);this.currentPage;this.currentPage=this.view.points1,this.currentPage.x=0,PlayerStats.append("mood",-1),PlayerStats.append("health",1),Topbar.pointsUpdate(),this.continueBtn.activate("next")},FlowPoorhouse.prototype.caretaker=function(t){"use strict";var e=this;this.trigger=t;var n=SoundService.matrix["1.1.1"][this.id];this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_1);var i=this.currentPage;this.currentPage=this.view.caretaker,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(e.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.chooseJob=function(t){"use strict";var e=this;this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choosework,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2,this.currentPage.checkbox3],["A","B","C"],Delegate.create(function(t){PlayerStats.job=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this))},FlowPoorhouse.prototype.work=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t,this.continueBtn.activate("skip");var i=SoundService.matrix[n][this.id][PlayerStats.job];this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view["bg_1_2"+PlayerStats.job]);var o=this.currentPage;this.currentPage=this.view.work,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:o,prop:"pos"},Delegate.create(function(){e.listeners.complete=this.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(i.src,i.duration)},this)),e.playerComponent=new PlayerSoundComponent(e.currentPage.player),e.continueBtn.ghost("skip")},FlowPoorhouse.prototype.points2=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points2,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.points3=function(t){"use strict";this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_3);var e=this.currentPage;this.currentPage=this.view.points3,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",-2),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.getout=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t;var i=SoundService.matrix[n];console.log(i);var o=this.currentPage;this.currentPage=this.view.getout,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:o,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(i.src,i.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player);var r=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(r),e.continueBtn.ghost("skip")},FlowPoorhouse.prototype.playAdvice=function(t){"use strict";var e=this,n=this.trigger;this.trigger=t;var i=this.currentPage;switch(n){case"1.3.3":this.currentPage=this.view.adviceinmate;break;case"1.3.4":this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_3_4),this.currentPage=this.view.adviceemployee}var o=SoundService.matrix[n];Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(o.src,o.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.chooseWayOut=function(t){"use strict";var e=this,n=this.currentPage;this.currentPage=this.view.choosewayout,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(n){PlayerStats.wayout=n.value,e.trigger=t[PlayerStats.wayout],1===n.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this))},FlowPoorhouse.prototype.drunk=function(t){"use strict";var e=this;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_5);var n=SoundService.matrix.drunk,i=this.currentPage;this.currentPage=this.view.drunk,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.points7=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points7,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("mood",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.constable=function(t){"use strict";var e=this;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_6);var n=SoundService.matrix.constable,i=this.currentPage;this.currentPage=this.view.constable,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.report=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.report,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.soundEffectPlay(SoundService.matrix.effects.typewriter),this.continueBtn.activate("next")},FlowPoorhouse.prototype.points6=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points6,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"alpha"},Delegate.create(function(){PlayerStats.append("mood",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.points4=function(t){"use strict";this.trigger=t,Transitions.transOutAlpha(this.currentPage),this.currentPage=this.view.points4,Transitions.transInPosition(this.currentPage,function(){PlayerStats.append("mood",1),Topbar.pointsUpdate()}),this.continueBtn.activate("next")},FlowPoorhouse.prototype.points5=function(t){"use strict";this.trigger=t,Transitions.transOutAlpha(this.currentPage),this.currentPage=this.view.points5,Transitions.transInPosition(this.currentPage,function(){PlayerStats.append("mood",-1),Topbar.pointsUpdate()}),this.continueBtn.activate("next")},FlowPoorhouse.prototype.backToPoorhouse=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_8);var n=SoundService.matrix["1.8"],i=this.currentPage;this.currentPage=this.view.backtopoorhouse,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player);var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.preRecruitment=function(t){"use strict";var e=this;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_1_9);var n=SoundService.matrix.prerecruitment[this.id],i=this.currentPage;this.currentPage=this.view.prerecruitment,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.recruimentOffice=function(t){this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_1);var e=this.currentPage;this.currentPage=this.view.recruitementoffice,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.jobInterviewPart1=function(t){var e=this;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_2);var n=SoundService.matrix["2.2.1"],i=this.currentPage;this.currentPage=this.view.jobinterviewpart1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.chooseJobGermany=function(t){var e=this;this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choosejob,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2,this.currentPage.checkbox3],["A","B","C"],Delegate.create(function(t){PlayerStats.job_germany[0]=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this))},FlowPoorhouse.prototype.jobInterviewPart2=function(t){var e=this;this.trigger=t;var n=SoundService.matrix["2.2.3"],i=this.currentPage;this.currentPage=this.view.jobinterviewpart2,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowPoorhouse.prototype.points8=function(t){this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points8,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",2),PlayerStats.append("mood",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowPoorhouse.prototype.recruitementLetter=function(t){this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_3);var e=this.currentPage;this.currentPage=this.view.recruitementletter,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this));var n=new Dropdown(this.currentPage.dropdown),i=this.currentPage.fullscreenButton,o=(i.on("mouseover",function(){n.setActive(!1)}),PlayerStats.challenge+PlayerStats.family);console.log("frm:",o),this.currentPage.realname.gotoAndStop(o),this.continueBtn.activate("next")},FlowPoorhouse.prototype.points9=function(t){this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points9,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"alpha"},Delegate.create(function(){PlayerStats.append("money",-1),PlayerStats.append("mood",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},createjs.EventDispatcher.initialize(FlowPoorhouse.prototype);var FlowGermany2=function(t){this.container=t,this.id=null,this.view=null,this.lib=null,this.slideLib=null,this.playerComponent=null,this.listeners={},this.trigger="4.0",this.currentPage=null,this.currentBackground=null,this.groups={},this.continueBtn=ContinueButton,this.continueBtn.activate("next"),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this)};FlowGermany2.prototype.start=function(){LoadJS.load(["../assets/logic/games/germany2.js"],Delegate.create(this.setup,this))},FlowGermany2.prototype.setup=function(){"use strict";if(null==this.runonce){this.runonce=!0;var t=this;this.id="germany2",this.flow=new SubFlowController,this.flow.addAction("4.0",Delegate.create(this.chooseJobGermany,this),"4.1"),this.flow.addAction("4.1",Delegate.create(this.recruitementLetter,this),"4.2"),this.flow.addAction("4.2",Delegate.create(this.points1,this),"4.3"),this.flow.addAction("4.3",Delegate.create(this.traveling,this),"4.5.1"),this.flow.addAction("4.5.1",Delegate.create(this.work,this),"4.5.2"),this.flow.addAction("4.5.2",Delegate.create(this.points2,this),"4.5.3"),this.flow.addAction("4.5.3",Delegate.create(this.points3,this),"4.6.1"),this.flow.addAction("4.6.1",Delegate.create(this.danskFront,this),"4.6.2"),this.flow.addAction("4.6.2",Delegate.create(this.chooseParticipation,this),"4.6.3"),this.flow.addAction("4.6.3",Delegate.create(this.points4,this),"4.7_split"),this.flow.addAction("4.7",Delegate.create(this.warProgresses,this),"4.10.1"),this.flow.addAction("4.7_split",Delegate.create(this.statsSplit,this),{type:"health",threshold:4,triggers:["4.10.4","4.10.1"]}),this.flow.addAction("4.10.1",Delegate.create(this.theBomb,this),"4.10.2"),this.flow.addAction("4.10.2",Delegate.create(this.choose1,this),"4.10.3"),this.flow.addAction("4.10.3",Delegate.create(this.points5,this),"4.10.7"),this.flow.addAction("4.10.4",Delegate.create(this.illness,this),"4.10.5"),this.flow.addAction("4.10.5",Delegate.create(this.choose2,this),"4.10.6"),this.flow.addAction("4.10.6",Delegate.create(this.points6,this),"4.10.7"),this.flow.addAction("4.10.7",Delegate.create(this.goingHome,this),"4.10.8"),this.flow.addAction("4.10.8",Delegate.create(this.intermezzo,this),"end"),this.flow.addAction("end",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this));try{this.lib=gamelib;var e=this.lib.germany_2,n=this.lib.properties.manifest,i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){t.view=new e,t.container.addChild(t.view),t.flow.next(t.trigger),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(n,i,o,"full")}catch(r){console.log(r)}}},FlowGermany2.prototype.next=function(){this.flow.next(this.trigger)},FlowGermany2.prototype.onContinue=function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},FlowGermany2.prototype.removeEvents=function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},FlowGermany2.prototype.destroy=function(){"use strict";null!=this.playerComponent&&(this.playerComponent.off("complete",this.listeners.complete),this.playerComponent.destroy(),this.playerComponent=null),this.view=null,this.lib=null,this.currentPage=null,this.listeners=null,this.flow=null},FlowGermany2.prototype.statsSplit=function(t){var e=PlayerStats[t.type];this.trigger=e<=t.threshold?t.triggers[0]:t.triggers[1],this.next()},FlowGermany2.prototype.chooseJobGermany=function(t){var e=this;this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_0);var n=this.currentPage;this.currentPage=this.view.choosejob,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.ghost("next"),CheckboxGroup.setup([this.currentPage.checkboxA,this.currentPage.checkboxB,this.currentPage.checkboxC],["A","B","C"],Delegate.create(function(t){PlayerStats.job_germany[1]=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),CheckboxGroup.disableCheckbox(PlayerStats.job_germany[0]),this.currentPage["cbText"+PlayerStats.job_germany[0]].alpha=.2},FlowGermany2.prototype.recruitementLetter=function(t){this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_1);var e=this.currentPage;this.currentPage=this.view.recruitementletter,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this));var n=new Dropdown(this.currentPage.dropdown),i=this.currentPage.fullscreenButton,o=(i.on("mouseover",function(){n.setActive(!1)}),PlayerStats.challenge+PlayerStats.family);console.log("frm:",o),this.currentPage.realname.gotoAndStop(o),this.continueBtn.activate("next")},FlowGermany2.prototype.points1=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"alpha"},Delegate.create(function(){PlayerStats.append("money",1),PlayerStats.append("mood",1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.traveling=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_3);var n=this.currentPage;this.currentPage=this.view.traveling,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){try{LoadJS.load(["../assets/logic/slides/slide_4_3.js"],Delegate.create(function(){e.slideLib=slidelib,e.playerComponent=new PlayerSliderComponent(e.currentPage.player),e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next")},e),e.playerComponent.preload("slide_4_3",e.slideLib),e.continueBtn.activate("skip")},e))}catch(t){console.log(t)}},this)),e.continueBtn.ghost("skip")},FlowGermany2.prototype.work=function(t){"use strict";this.trigger=t;var e,n,i=this;try{var o=PlayerStats.job_germany[0]+PlayerStats.job_germany[1];n="slide_4_5_1_"+o,e="../assets/logic/slides/"+n+".js"}catch(r){console.log(r)}this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_5_1);var s=this.currentPage;this.currentPage=this.view.work,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:s,prop:"pos"},Delegate.create(function(){try{LoadJS.load([e],Delegate.create(function(){i.slideLib=slidelib,i.playerComponent=new PlayerSliderComponent(i.currentPage.player),i.listeners.complete=i.playerComponent.on("complete",function(){i.continueBtn.activate("next")},i),i.playerComponent.preload(n,i.slideLib),i.continueBtn.activate("skip")},i))}catch(t){console.log(t)}},this)),i.continueBtn.ghost("skip")},FlowGermany2.prototype.points2=function(t){"use strict";this.trigger=t,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_5_2);var e=this.currentPage;this.currentPage=this.view.points2,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",2),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.points3=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points3,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"alpha"},Delegate.create(function(){PlayerStats.append("money",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.danskFront=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_6);var n=SoundService.matrix["4.6.1"],i=this.currentPage;this.currentPage=this.view.danskfront,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany2.prototype.chooseParticipation=function(t){"use strict";var e=this;this.trigger=t;var n=this.currentPage;this.currentPage=this.view.chooseparticipation,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(t){PlayerStats.nazi=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),this.continueBtn.ghost("next")},FlowGermany2.prototype.points4=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points4,this.currentPage.gotoAndStop(PlayerStats.nazi),Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:e,prop:"alpha"},Delegate.create(function(){switch(PlayerStats.nazi){case"A":PlayerStats.append("mood",-1);
break;case"B":PlayerStats.append("mood",1)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.warProgresses=function(t){"use strict";this.trigger=t;var e=this,n="slide_4_7",i="../assets/logic/slides/"+n+".js",o=this.currentPage;this.currentPage=this.view.warprogresses,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:o,prop:"pos"},Delegate.create(function(){try{LoadJS.load([i],Delegate.create(function(){e.slideLib=slidelib,e.playerComponent=new PlayerSliderComponent(e.currentPage.player),e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next")},e),e.playerComponent.preload(n,e.slideLib),e.continueBtn.activate("skip")},e))}catch(t){console.log(t)}},this)),e.continueBtn.ghost("skip")},FlowGermany2.prototype.theBomb=function(t){"use strict";this.trigger=t;var e=this;PlayerStats.bomb=!0,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_10_1);var n=SoundService.matrix["4.10.1"],i=this.currentPage;this.currentPage=this.view.thebomb,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany2.prototype.illness=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_10_4);var n=SoundService.matrix["4.10.4"],i=this.currentPage;this.currentPage=this.view.illness,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany2.prototype.choose1=function(t){"use strict";{var e=this;this.trigger}this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choose1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(t){PlayerStats["4.10.2"]=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),this.continueBtn.ghost("next")},FlowGermany2.prototype.points5=function(t){"use strict";this.trigger=t;var e=PlayerStats["4.10.2"],n=this.currentPage;this.currentPage=this.view.points5,this.currentPage.gotoAndStop(e),Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"alpha"},Delegate.create(function(){switch(e){case"A":PlayerStats.append("money",-2);break;case"B":PlayerStats.append("money",2)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.choose2=function(t){"use strict";{var e=this;this.trigger}this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choose1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(t){PlayerStats["4.10.5"]=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),this.continueBtn.ghost("next")},FlowGermany2.prototype.points6=function(t){"use strict";this.trigger=t;var e=PlayerStats["4.10.5"],n=this.currentPage;this.currentPage=this.view.points5,this.currentPage.gotoAndStop(e),Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"alpha"},Delegate.create(function(){switch(e){case"A":PlayerStats.append("money",-1);break;case"B":PlayerStats.append("money",1)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany2.prototype.goingHome=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_10_7);var n=SoundService.matrix["4.10.7"],i=this.currentPage;this.currentPage=this.view.goinghome,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany2.prototype.intermezzo=function(t){"use strict";this.trigger=t;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_10_8);var e=this.currentPage;this.currentPage=null,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},createjs.EventDispatcher.initialize(FlowGermany2.prototype);var FlowGermany1=function(t){this.container=t,this.id=null,this.view=null,this.lib=null,this.slideLib=null,this.playerComponent=null,this.listeners={},this.trigger="2.5",this.currentPage=null,this.currentBackground=null,this.groups={},this.continueBtn=ContinueButton,this.continueBtn.activate("next"),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this)};FlowGermany1.prototype.start=function(){LoadJS.load(["../assets/logic/games/germany1.js","../assets/logic/slides/slide_2_5.js"],Delegate.create(this.setup,this))},FlowGermany1.prototype.setup=function(){"use strict";if(null==this.runonce){this.runonce=!0;var t=this;this.id="germany1",this.flow=new SubFlowController,this.flow.addAction("2.5",Delegate.create(this.traveling,this),"2.6.1"),this.flow.addAction("2.6.1",Delegate.create(this.dormitry,this),"2.6.2"),this.flow.addAction("2.6.2",Delegate.create(this.points1,this),"2.7.1"),this.flow.addAction("2.7.1",Delegate.create(this.work,this),"2.7.2"),this.flow.addAction("2.7.2",Delegate.create(this.points2,this),"2.7.3"),this.flow.addAction("2.7.3",Delegate.create(this.points3,this),"2.8.1"),this.flow.addAction("2.8.1",Delegate.create(this.getPaid,this),"2.8.2"),this.flow.addAction("2.8.2",Delegate.create(this.chooseSpending,this),"2.9.1"),this.flow.addAction("2.9.1",Delegate.create(this.points4,this),"2.9.2"),this.flow.addAction("2.9.2",Delegate.create(this.facts,this),"2.10.1"),this.flow.addAction("2.10.1",Delegate.create(this.chooseWhatNow,this),"2.10.2"),this.flow.addAction("2.10.2",Delegate.create(this.whatNow,this),"2.10.3"),this.flow.addAction("2.10.3",Delegate.create(this.points6,this),"2.11.1"),this.flow.addAction("2.11.1",Delegate.create(this.homeComming,this),"3.0"),this.flow.addAction("3.0",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this));try{this.lib=gamelib;var e=this.lib.germany_1,n=this.lib.properties.manifest,i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){t.view=new e,t.container.addChild(t.view),t.flow.next(t.trigger),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(n,i,o,"full")}catch(r){console.log(r)}}},FlowGermany1.prototype.onContinue=function(){"use strict";console.log("FlowGermany1::onContinue"),null!=this.playerComponent&&this.playerComponent.stop(),this.flow.next(this.trigger)},FlowGermany1.prototype.removeEvents=function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},FlowGermany1.prototype.destroy=function(){"use strict";null!=this.playerComponent&&(this.playerComponent.off("complete",this.listeners.complete),this.playerComponent.destroy(),this.playerComponent=null),this.view=null,this.lib=null,this.currentPage=null,this.listeners=null,this.flow=null},FlowGermany1.prototype.traveling=function(t){"use strict";this.trigger=t;var e=this;this.currentPage=this.view.traveling,this.currentPage.x=0,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_5);try{this.slideLib=slidelib,this.playerComponent=new PlayerSliderComponent(this.currentPage.player),this.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),this.playerComponent.on("ready",function(t){t.remove(),Tick.framerate(Tick.low),e.continueBtn.activate("skip")}),this.playerComponent.preload("slide_2_5",this.slideLib)}catch(n){console.log(n)}this.continueBtn.activate("skip")},FlowGermany1.prototype.dormitry=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_6);var n=SoundService.matrix.dormitry,i=PlayerStats.challenge+PlayerStats.family;this.currentBackground.portrait.gotoAndStop(i);var o=this.currentPage;this.currentPage=this.view.dormitry,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:o,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany1.prototype.points1=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points1,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"alpha"},Delegate.create(function(){PlayerStats.append("mood",1),PlayerStats.append("health",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.work=function(t){"use strict";this.trigger=t;var e,n,i,o=this;try{switch(e=this.view["bg_2_7"+PlayerStats.job_germany[0]],PlayerStats.job_germany[0]){case"A":i="slide_2_7_1_amory";break;case"B":i="slide_2_7_1_mine";break;case"C":i="slide_2_7_1_butcher"}n="../assets/logic/slides/"+i+".js"}catch(r){console.log(r)}this.currentBackground=Transitions.changeBackground(this.currentBackground,e);var s=this.currentPage;this.currentPage=this.view.work,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:s,prop:"pos"},Delegate.create(function(){try{LoadJS.load([n],Delegate.create(function(){o.slideLib=slidelib,o.playerComponent=new PlayerSliderComponent(o.currentPage.player),o.listeners.complete=o.playerComponent.on("complete",function(){o.continueBtn.activate("next")},o),o.playerComponent.preload(i,o.slideLib),o.continueBtn.activate("skip")},o))}catch(t){console.log(t)}},this)),o.continueBtn.ghost("skip")},FlowGermany1.prototype.points2=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points2,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",2),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.points3=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points3,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){PlayerStats.append("money",-1),Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.getPaid=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_8);var n=SoundService.matrix["2.8.1"],i=this.currentPage;this.currentPage=this.view.getpaid,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany1.prototype.chooseSpending=function(t){"use strict";var e=this;this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choosespending,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:n,prop:"pos"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2,this.currentPage.checkbox3],["A","B","C"],Delegate.create(function(t){PlayerStats.spending=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),this.continueBtn.ghost("next")},FlowGermany1.prototype.points4=function(t){"use strict";this.trigger=t;var e,n;try{n=this.view["bg_2_9"+PlayerStats.spending],e=this.view["points4"+PlayerStats.spending]}catch(i){console.log(i)}this.currentBackground=Transitions.changeBackground(this.currentBackground,n);var o=this.currentPage;this.currentPage=e,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:o,prop:"pos"},Delegate.create(function(){switch(console.log(PlayerStats.spending,e),PlayerStats.spending){case"A":PlayerStats.append("health",1);break;case"B":PlayerStats.append("mood",1);break;case"C":PlayerStats.append("mood",1),PlayerStats.append("health",-1)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.facts=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.facts,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.chooseWhatNow=function(t){"use strict";var e=this;this.trigger=t;var n=this.currentPage;this.currentPage=this.view.choosewhatnow,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.low)},this)),CheckboxGroup.setup([this.currentPage.checkbox1,this.currentPage.checkbox2],["A","B"],Delegate.create(function(t){PlayerStats.whatnow=t.value,1===t.clicked&&(e.continueBtn.activate("next"),e.listeners.continueClick=e.continueBtn.on("click",function(t){t.remove(),CheckboxGroup.clear()}))},this)),this.continueBtn.ghost("next")},FlowGermany1.prototype.whatNow=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_10);var n=SoundService.matrix["2.10.2"][PlayerStats.whatnow],i=this.currentPage;this.currentPage=this.view.whatnow,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"pos"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.currentPage.gotoAndStop(PlayerStats.whatnow);var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},FlowGermany1.prototype.points6=function(t){"use strict";this.trigger=t;var e=this.currentPage;this.currentPage=this.view.points6,this.currentPage.gotoAndStop(PlayerStats.whatnow),Transitions.inOut({element:this.currentPage,prop:"pos"},{element:e,prop:"pos"},Delegate.create(function(){switch(PlayerStats.whatnow){case"A":PlayerStats.append("money",1);break;case"B":PlayerStats.append("money",-1)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),console.log("points6",PlayerStats.whatnow,this.currentPage),this.continueBtn.activate("next")},FlowGermany1.prototype.homeComming=function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_11);var n=SoundService.matrix["2.11.1"],i=this.currentPage;this.currentPage=this.view.homecomming,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this)),this.playerComponent=new PlayerSoundComponent(this.currentPage.player);var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),e.continueBtn.ghost("skip")},FlowGermany1.prototype.points5=function(t){"use strict";this.trigger=t;var e;try{e=this.view["points5"+PlayerStats.whatnow]}catch(n){console.log(n)}var i=this.currentPage;this.currentPage=e,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:i,prop:"pos"},Delegate.create(function(){switch(PlayerStats.whatnow){case"A":PlayerStats.append("money",1);break;case"B":PlayerStats.append("money",-1)}Topbar.pointsUpdate(),Tick.framerate(Tick.low)},this)),this.continueBtn.activate("next")},FlowGermany1.prototype.intermezzo=function(t){"use strict";this.trigger=t;var e=this;this.currentPage=this.view.intermezzo,this.currentPage.x=0,this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_2_5);var n=this.currentPage;this.currentPage=this.view.choosewhatnow,Transitions.inOut({element:this.currentPage,prop:"pos"},{element:n,prop:"alpha"},Delegate.create(function(){Tick.framerate(Tick.low)},this));try{this.slideLib=slidelib,this.playerComponent=new PlayerSliderComponent(this.currentPage.player),this.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),this.playerComponent.on("ready",function(t){t.remove(),Tick.framerate(Tick.low),e.continueBtn.activate("skip")}),this.playerComponent.preload("slide_2_5",this.slideLib)}catch(i){console.log(i)}this.continueBtn.activate("skip")},createjs.EventDispatcher.initialize(FlowGermany1.prototype);var FlowEpilogue=function(t){return{currentPage:null,container:t,view:null,trigger:null,continueBtn:ContinueButton,listeners:{},start:function(){"use strict";createjs.EventDispatcher.initialize(this),this.listeners.continue=this.continueBtn.on("click",this.onContinue,this),this.id="epilogue",null!==PlayerStats["4.10.2"]&&void 0!==PlayerStats["4.10.2"]?"A"===PlayerStats["4.10.2"]?this.trigger="4.11.3":"B"===PlayerStats["4.10.2"]&&(this.trigger="4.11.1"):"A"===PlayerStats["4.10.5"]?this.trigger="4.11.2":"B"===PlayerStats["4.10.5"]&&(this.trigger="4.11.4"),LoadJS.load(["../assets/logic/games/epilogue.js"],Delegate.create(this.setup,this))},next:function(){this.flow.next(this.trigger)},setup:function(){"use strict";if(null==this.runonce){var t=this;this.runonce=!0,this.flow=new SubFlowController,this.flow.addAction("4.11.1",Delegate.create(this.compensation,this),"4.12"),this.flow.addAction("4.11.2",Delegate.create(this.illness,this),"4.12"),this.flow.addAction("4.11.3",Delegate.create(this.runAway,this),"4.12"),this.flow.addAction("4.11.4",Delegate.create(this.hippopotimus,this),"4.12"),this.flow.addAction("4.12",Delegate.create(this.outro,this),"end"),this.flow.addAction("end",Delegate.create(function(){t.removeEvents(),t.dispatchEvent(new createjs.Event("continue"))},this));try{this.lib=gamelib;var e=this.lib.epilogue,n=this.lib.properties.manifest,i=function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},o=function(){t.view=new e,t.container.addChild(t.view),t.flow.next(t.trigger),t.dispatchEvent(new createjs.Event("ready"))};Preloader.load(n,i,o,"full")}catch(r){}}},onContinue:function(){"use strict";null!=this.playerComponent&&this.playerComponent.stop(),this.next()},removeEvents:function(){"use strict";this.continueBtn.off("click",this.listeners.continue),this.listeners.continue=null},restart:function(){"use strict";this.currentPage=null},destroy:function(){"use strict";this.currentPage=null,this.flow.destroy(),this.flow=null,this.container=null,this.currentBackground=null,this.trigger=null,this.view=null,null!=this.playerComponent&&this.playerComponent.destroy(),this.playerComponent=null},compensation:function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_11_1);var n=SoundService.matrix["4.11.1"],i=this.currentPage;this.currentPage=this.view.compensation,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},illness:function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_11_2);var n=SoundService.matrix["4.11.2"],i=this.currentPage;this.currentPage=this.view.compensation,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},runAway:function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_11_3);var n=SoundService.matrix["4.11.3"],i=this.currentPage;this.currentPage=this.view.runaway,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},hippopotimus:function(t){"use strict";this.trigger=t;var e=this;this.currentBackground=Transitions.changeBackground(this.currentBackground,this.view.bg_4_11_4);var n=SoundService.matrix["4.11.4"],i=this.currentPage;this.currentPage=this.view.hippopotimus,Transitions.inOut({element:this.currentPage,prop:"alpha"},{element:i,prop:"alpha"},Delegate.create(function(){e.listeners.complete=e.playerComponent.on("complete",function(){e.continueBtn.activate("next"),Tick.framerate(Tick.low)},e),e.playerComponent.on("ready",function(){e.continueBtn.activate("skip"),Tick.framerate(Tick.low)},e),e.playerComponent.preload(n.src,n.duration)},this));var o=PlayerStats.challenge+PlayerStats.family;this.currentPage.portrait.gotoAndStop(o),this.playerComponent=null,this.playerComponent=new PlayerSoundComponent(this.currentPage.player),this.continueBtn.ghost("skip")},outro:function(t){"use strict";this.trigger=t;this.continueBtn.ghost("skip")}}},Topbar={view:null,soundController:null,init:function(t){if(void 0===t||null===t)throw new Error("'view' is undefined");this.view=t,HUDController.init()},go:function(t){if(void 0===this.view||null===this.view)throw new Error("'view' is undefined");this.view.gotoAndStop(t),"game"===t&&(this.view.photo.gotoAndStop(PlayerStats.challenge+PlayerStats.family),this.view.realname.gotoAndStop(PlayerStats.challenge+PlayerStats.family),this.view.nickname.gotoAndStop(PlayerStats.nickname-1),HUDController.setView(this.view.hud))},pointsUpdate:function(){try{HUDController.update()}catch(t){console.log(t)}},show:function(){this.view.visible=!0},hide:function(){this.view.visible=!1}},TweenUtil={to:function(t,e,n,i){createjs.Tween.get(t).to(e,n,createjs.Ease.linear).call(function(){void 0!==i&&i()})}},Transitions={inOut:function(t,e,n){var i=0;null!==t.element?i++:console.log("inObj::none"),null!==e.element?i++:console.log("outObj::none");var o=function(t){0==t&&null!==n&&n()};switch(e.prop){case"pos":this.transOutPosition(e.element,function(){o(--i)});break;case"alpha":this.transOutAlpha(e.element,function(){o(--i)})}switch(t.prop){case"pos":this.transInPosition(t.element,function(){o(--i)});break;case"alpha":this.transInAlpha(t.element,function(){o(--i)})}},transInPosition:function(t,e){null!==t&&void 0!==t&&(t.visible=!0,t.alpha=1,t.x=1024,createjs.Tween.get(t).to({x:0},300,createjs.Ease.linear).call(function(){void 0!==e&&e()}))},transOutPosition:function(t,e){null!==t&&void 0!==t&&createjs.Tween.get(t).to({x:-1024},300,createjs.Ease.linear).call(function(){void 0!==e&&(e(),t.visible=!1)})},transInAlpha:function(t,e){null!==t&&void 0!==t&&(t.visible=!0,t.alpha=0,t.x=0,createjs.Tween.get(t).to({alpha:1},300,createjs.Ease.linear).call(function(){void 0!==e&&e()}))},transOutAlpha:function(t,e){null!==t&&void 0!==t&&createjs.Tween.get(t).to({alpha:0},300,createjs.Ease.linear).call(function(){void 0!==e&&e()})},changeBackground:function(t,e){try{null!==t&&void 0!==t&&(t.x=1024,t.visible=!1)}catch(n){console.log(n)}try{e.x=0,e.visible=!0}catch(n){console.log(n)}return e}},Tick={defaultDelay:100,stage:null,enabled:!1,debug:!1,low:4,medium:8,high:15,perfect:24,init:function(t,e){this.stage=t,this.framerate(e),enabled=!1},framerate:function(t){createjs.Ticker.framerate=t},enable:function(){return enabled?!1:(createjs.Ticker.removeEventListener("tick",self.stage),createjs.Ticker.addEventListener("tick",this.stage),this.debug&&createjs.Ticker.addEventListener("tick",this.foo),enabled=!0,void 0)},disable:function(t){void 0===t&&(t=this.defaultDelay);var e=this;setTimeout(function(){return enabled?!1:(createjs.Ticker.removeEventListener("tick",e.stage),e.debug&&createjs.Ticker.removeEventListener("tick",e.foo),void 0)},t),enabled=!1},resume:function(){createjs.Ticker.paused=!1},pause:function(){createjs.Ticker.paused=!0},foo:function(){}},TextField=function(){};TextField.create=function(t,e,n,i,o,r){if(!r)var r="";var s=new createjs.Text;return s.font=r+n+"px "+o,s.color=i,s.text=e,s},TextField.createBmp=function(t,e,n,i){var o=Font.create(t,n,e);return i&&o.setColor(i),o},Math.range=function(t,e){"use strict";return Math.random()*(e-t)+t},Math.rangeInt=function(t,e){"use strict";return Math.floor(Math.random()*(e-t+1))+t};var Preloader={id:0,imagePath:"assets/images/preloader.gif",tracker:{},load:function(t,e,n,i,o){"use strict";if(this.id++,0===t.length)return n(null),void 0;this.tracker[this.id]=!1;var r=this,s=new createjs.LoadQueue(!0);s.id=this.id,s.keepPreloader=void 0===o?!1:o,null!=e&&s.addEventListener("fileload",function(t){null!=e&&e(t)}),s.addEventListener("complete",function(t){var e=t.target.id;r.tracker[e]=!0,null!=n&&n(t),PreloadGFX.hide()}),s.addEventListener("progress",function(t){PreloadGFX.showProgress(t.loaded)}),s.addEventListener("error",function(t){console.log("Preloader:error",t)}),t=Path.adjustManifest(t),s.loadManifest(t),PreloadGFX.show()}};PreloadGFX={blocker:null,shown:0,preloader:null,show:function(t){this.shown++,t=void 0===t||null===t?!0:t,void 0!==this.preloader&&null!==this.preloader&&(console.log("show",this.preloader.visible),this.preloader.visible=!0,this.preloader.progress_bar.visible=t?!0:!1),null!==PreloadGFX.blocker&&t&&(PreloadGFX.blocker.visible=!0,PreloadGFX.blocker.alpha=.3)},hide:function(){this.shown--,void 0!==this.preloader&&null!==this.preloader&&(console.log("hide",this.shown),0==this.shown&&(this.preloader.visible=!1)),null!==PreloadGFX.blocker&&(PreloadGFX.blocker.visible=!1)},showProgress:function(t){void 0!==this.preloader&&null!==this.preloader&&(this.preloader.progress_bar.bar.scaleX=t)}};var Path={adjustManifest:function(t){for(var e in t)"object"==typeof t[e]&&(t[e].adjusted||(t[e].src=this.adjustUrl(t[e].src),t[e].adjusted=!0));return t},adjustUrl:function(t){var e=Environment.basePath()+t.replace(/\.\.\//g,"");return e}},LoadJS={cache:[],load:function(t,e,n){"use strict";var i=[],o=[];PreloadGFX.show();var r=0,s={};o="string"==typeof t?t.split(","):t;for(var a=0;a<o.length;a++){for(var c=!0,l=0;l<this.cache.length&&this.cache[l]!==o[a];l++);c&&i.push(Path.adjustUrl(o[a]))}null==n&&(n=document.body);for(var h=0;h<i.length;h++){this.cache.push(i[h]);var u=document.createElement("script");u.onload=u.onreadystatechange=function(t){r++;var n=t.target.src.split("/"),o=n[n.length-2]+"/"+n[n.length-1];s[o]=!0;for(var a=0;a<i.length;a++){var c=i[a].split("/"),l=c[c.length-2]+"/"+c[c.length-1];if(s[l]!==!0)return!1}e(),PreloadGFX.hide()},u.src=i[h],n.appendChild(u)}}},Font={BIGNOODLE:"BigNoodleTitling"},Flow={statsSplit:function(t){this.trigger="bool"==t.type?t.value!==t.threshold?t.triggers[0]:t.triggers[1]:t.value<t.threshold?t.triggers[0]:t.triggers[1],t.callback()}},Environment={gameBasePath:"/assets/game/",data:null,browser:{},os:null,dimensions:{},ratioValue:null,init:function(){"use strict";var t=browserDetection();this.browser.name=t.browser.toLowerCase(),this.browser.version=t.version,this.browser.firefox="firefox"===this.browser.name,this.os=t.os,this.dimensions.w=window.innerWidth,this.dimensions.h=window.innerHeight;var e=function(){var t=document.createElement("canvas").getContext("2d"),e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n};this.ratio=e();var n=function(){return Environment.dimensions.w/1024};this.winScale=n()},basePath:function(){return void 0===this.gameBasePath&&(this.gameBasePath="/"),this.gameBasePath}},Delegate={create:function(t,e){"use strict";return function(){try{return t.apply(e,arguments)}catch(n){console.log(n)}}}},Canvas={create:function(t,e,n){var i=Environment.winScale;i>1&&(i=1);var o=document.createElement("canvas");return o.width=t*n,o.height=e*n,o.style.width=t*i+"px",o.style.height=e*i+"px",o.getContext("2d").setTransform(n,0,0,n,0,0),o}};Array.prototype.shuffle=function(t){for(var e,n,i=this[t],o=this.length;o;e=Math.floor(Math.random()*o),n=this[--o],this[o]=this[e],this[e]=n)for(var r=0;r<this.length;r++)if(i==this[r]){this.correct=r;
break}return this};var SoundService={init:function(){"use strict";console.log("SoundService.init");var t=function(e){for(var n in e)"object"==typeof e[n]&&(void 0!==e[n].src&&(e[n].src=SoundService.basePath()+e[n].src),t(e[n]))};t(this.matrix)},getSlideDurationById:function(t){"use strict";return this.matrix.slides[t].duration},getSlideSoundpathById:function(t){"use strict";return SoundService.properties.slidePath+t+".mp3"},getSlideSoundById:function(t){"use strict";return SoundService.matrix.slides[t]},basePath:function(){"use strict";return Environment.basePath()+"assets/sounds/"},matrix:{effects:{typewriter:{src:"typewriter.mp3",volume:.4},woodchopper:{src:"1.2.1_hugbraende_lydeffekt.mp3"}},"1.1.1":{horsens:{src:"1.1.1_horsens.mp3"},sundholm:{src:"1.1.1_sundholm.mp3"},svendborg:{src:"1.1.1_svendborg.mp3"}},points:{plus:{src:"Point_plus.mp3"},minus:{src:"Point_minus.mp3"}},dormitry:{src:"2.6.1.mp3"},drunk:{src:"1.5.1.mp3"},constable:{src:"1.6.1.mp3"},"1.2.1":{horsens:{A:{src:"1.1.2_pashaven.mp3"},B:{src:"1.1.2_goerrent.mp3"},C:{src:"1.1.2_fletmaatter.mp3"}},sundholm:{A:{src:"1.1.2_hugbraende.mp3"},B:{src:"1.1.2_pasgrise.mp3"},C:{src:"1.1.2_skaerver.mp3"}},svendborg:{A:{src:"1.1.2_skaerver.mp3"},B:{src:"1.1.2_vaevmaatter.mp3"},C:{src:"1.1.2_pilorm.mp3"}}},"1.3.2":{label:"wants out",src:"1.3.2.mp3"},"1.3.3":{label:"inmate",src:"1.3.3_indsat.mp3"},"1.3.4":{label:"employee",src:"1.3.4.mp3"},1.8:{label:"arrested",src:"1.8.mp3"},"2.2.1":{src:"2.2.1.mp3"},"2.2.3":{src:"2.2.3.mp3"},"2.8.1":{description:"get paid",src:"2.8.1.mp3"},"2.10.2":{A:{description:"Finnish contract",src:"2.10.2.a.mp3"},B:{description:"Go home",src:"2.10.2.b.mp3"}},"2.11.1":{description:"home comming",src:"2.11.1.mp3"},slides:{slide_0_1:{src:"film01medmusik_mixdown.mp3"},slide_1_0_1:{src:"film10_mixdown.mp3"},slide_2_5:{src:"2.5_mixdown.mp3"},slide_2_7_1_amory:{src:"2.7.1.vaaben_mixdown.mp3"},slide_2_7_1_butcher:{src:"2.7.1.slagt_mixdown.mp3"},slide_2_7_1_mine:{src:"2.7.1.mine_mixdown.mp3"},slide_3_0:{src:"3.0_mixdown.mp3"},slide_4_3:{src:"4.3_mixdown.mp3"},slide_4_5_1_AB:{src:"4.5.1.mine_mixdown.mp3"},slide_4_5_1_AC:{src:"4.5.1hud_efter_vaaben_mixdown.mp3"},slide_4_5_1_BA:{src:"4.5.1.vaaben_efter kul_mixdown.mp3"},slide_4_5_1_BC:{src:"4.5.1hud_efter_mine_mixdown.mp3"},slide_4_5_1_CA:{src:"4.5.1.vaaben_efter hud_mixdown.mp3"},slide_4_5_1_CB:{src:"4.5.1.mine_mixdown.mp3"},slide_4_7:{src:"4.7_mixdown.mp3"}},.4:{AD:{label:"alkoholiker",src:"0.4_forvalteren.mp3"},AE:{label:"alkoholiker, brn",src:"0.4_datter.mp3"},AF:{label:"alkoholiker",src:"0.4_forvalteren.mp3"},BD:{label:"dovenskab",src:"0.4_kone.mp3"},BE:{label:"dovenskab, brn",src:"0.4_datter.mp3"},BF:{label:"dovenskab",src:"0.4_andenindlagt.mp3"},CD:{label:"svkkelse",src:"0.4_kone.mp3"},CE:{label:"svkkelse, brn",src:"0.4_datter.mp3"},CF:{label:"svkkelse",src:"0.4_andenindlagt.mp3"}},"3.2.1":{horsens:{A:{src:"1.1.2_pashaven.mp3"},B:{src:"1.1.2_goerrent.mp3"},C:{src:"1.1.2_fletmaatter.mp3"}},sundholm:{A:{src:"1.1.2_hugbraende.mp3"},B:{src:"1.1.2_pasgrise.mp3"},C:{src:"1.1.2_skaerver.mp3"}},svendborg:{A:{src:"1.1.2_skaerver.mp3"},B:{src:"1.1.2_vaevmaatter.mp3"},C:{src:"1.1.2_pilorm.mp3"}}},3.3:{horsens:{src:"3.3.horsens.svendborg.mp3"},sundholm:{src:"3.3.sundholm.mp3"},svendborg:{src:"3.3.horsens.svendborg.mp3"}},"3.4.1":{label:"employee",src:"3.4.1.mp3"},"3.4.2":{label:"inmate",src:"3.4.2.mp3"},"3.7.1":{label:"work over",src:"3.7.1.mp3"},"4.6.1":{label:"dansk front",src:"4.6.1.mp3"},"4.10.1":{label:"bombe",src:"4.10.1.mp3"},"4.10.4":{label:"illness",src:"4.10.4.mp3"},"4.10.7":{label:"going home",src:"4.10.7.mp3"},"4.11.1":{label:"post script",src:"14_11_1efterskrift_red_musik.mp3"},"4.11.2":{label:"post script",src:"14_11_2efterskrift_red_musik.mp3"},"4.11.3":{label:"post script",src:"14_11_3efterskrift_red_musik.mp3"},"4.11.4":{label:"post script",src:"14_11_4efterskrift_red_musik.mp3"}}},PlayerStats={challenge:"B",family:"D",nickname:null,poorhouse:null,mood:2,health:4,money:3,job:null,advice:null,wayout:null,job_germany:["A","B"],spending:null,whatnow:null,nazi:null,pointsDiff:{mood:0,health:0,money:0},bomb:!1,resetDiff:function(){"use strict";this.pointsDiff={mood:0,health:0,money:0}},isAPlusPoint:function(){"use strict";for(var t in this.pointsDiff)if(this.pointsDiff[t]>0)return!0},isAMinusPoint:function(){"use strict";for(var t in this.pointsDiff)if(this.pointsDiff[t]<0)return!0},set:function(t,e){"use strict";this.pointsDiff[t]=0;var n=this[t];this[t]=e,this.pointsDiff[t]=this[t]-n,("mood"==t||"health"==t||"money"==t)&&(this[t]>10&&(this[t]=10),this[t]<1&&(this[t]=1))},append:function(t,e){"use strict";this.pointsDiff[t]=0;var n=this[t];this[t]+=e,this.pointsDiff[t]=this[t]-n,("mood"==t||"health"==t||"money"==t)&&(this[t]>10&&(this[t]=10),this[t]<1&&(this[t]=1))}},Library={clearSlide:function(){"use strict";try{slidelib=null}catch(t){console.log(t)}},clearGame:function(){"use strict";try{gamelib=null}catch(t){console.log(t)}},clearMain:function(){"use strict";try{mainlib=null}catch(t){console.log(t)}}},ImageService={init:function(){"use strict";console.log("ImageService.init");var t=function(e){for(var n in e)"object"==typeof e[n]&&(void 0!==e[n].src&&(e[n].src=ImageService.basePath()+e[n].src),t(e[n]))};t(this.matrix)},basePath:function(){"use strict";return Environment.basePath()+"assets/images/pool/"},matrix:{.1:{id:"poorhouse_bg_horsens",label:"background",src:"_0_1BG.jpg"},"1.0.1":{horsens:{id:"poorhouse_bg_horsens",label:"background",src:"_1_0BGhorsens.jpg"},sundholm:{id:"poorhouse_bg_ssundholm",label:"background",src:"_1_0BGsundholm.jpg"},svendborg:{id:"poorhouse_bg_svendborg",label:"background",src:"_1_0BGsvendborg.jpg"}},"3.0":{horsens:{id:"poorhouse_bg_horsens",label:"background",src:"_1_0BGhorsens.jpg"},sundholm:{id:"poorhouse_bg_ssundholm",label:"background",src:"_1_0BGsundholm.jpg"},svendborg:{id:"poorhouse_bg_svendborg",label:"background",src:"_1_0BGsvendborg.jpg"}}}},FlowData={},GameManager={root:null,init:function(t){"use strict";if(void 0===t)throw new Error("'root' is undefined");this.root=t},restart:function(){"use strict"},destroy:function(){"use strict"}},FlowManager={currentPage:null,root:null,topbar:null,init:function(t){"use strict";if(void 0===t&&null===t)throw new Error("'root' is",t);this.root=t,PreloadGFX.blocker=this.root.blocker_black},clearLib:function(){lib=null},gotoPage:function(t){"use strict";null!==this.currentPage&&(this.currentPage.destroy(),this.currentPage=null);var e=this;switch(t){case"0.0":this.root.gotoAndStop("frontpage"),PreloadGFX.blocker.visible=!1,ContinueButton.on("click",function(t){t.remove(),e.gotoPage("loadtopbar")},this),ContinueButton.activate("next");break;case"loadtopbar":Library.clearSlide(),Library.clearGame(),LoadJS.load(["../assets/logic/topbarview.js"],Delegate.create(function(){Preloader.load(lib.properties.manifest,function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},function(t){t.remove(),e.topbar=new lib.TopbarView,e.root.topbarcontainer.addChild(e.topbar),e.gotoPage("0.1")},"full",!0)},this));break;case"0.1":this.root.blocker_black.visible=!1,this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{e.root.topbarcontainer.addChild(e.topbar),Topbar.init(this.topbar.mainClip),Topbar.go("intro")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new PageIntroSlide(this.root.pagecontainer),this.currentPage.start("0.1","slide_0_1"),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("0.2")},this);break;case"0.2":try{Topbar.init(this.topbar.mainClip),Topbar.go("intro")}catch(n){console.log(n)}var e=this;this.root.gotoAndStop("start"),this.currentPage=new FlowPrologue(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("0.5")},this);break;case"0.5":try{Topbar.init(this.topbar.mainClip),Topbar.go("intro")}catch(n){console.log(n)}var e=this;this.root.gotoAndStop("start"),this.currentPage=new PageMap(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("1.0.1")},this);break;case"1.0.1":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new PageIntroSlide(this.root.pagecontainer),this.currentPage.start("1.0.1","slide_1_0_1"),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("1.0.2")},this);break;case"1.0.2":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new FlowPoorhouse(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("2.5")},this),Tick.framerate(Tick.low);break;case"2.5":this.root.gotoAndStop("germany"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new FlowGermany1(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("2.12")},this),Tick.framerate(Tick.low);break;case"2.12":try{Topbar.init(this.topbar.mainClip),Topbar.go("game")}catch(n){console.log(n)}var e=this;this.root.gotoAndStop("start"),this.currentPage=new PageMap(this.root.pagecontainer),this.currentPage.setInfo(!0),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("3.0")},this);break;case"3.0":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new PageIntroSlide(this.root.pagecontainer),this.currentPage.start("3.0","slide_3_0"),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("3.1")},this);break;case"3.1":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new FlowPoorhouseSecond(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("4.0")},this),Tick.framerate(Tick.low);break;case"4.0":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new FlowGermany2(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),this.currentPage.on("continue",function(t){t.remove(),Library.clearSlide(),Library.clearGame(),e.gotoPage("4.11")},this),Tick.framerate(Tick.low);break;case"4.11":this.root.gotoAndStop("start"),this.root.pagecontainer.removeAllChildren();try{Topbar.go("game")}catch(n){console.log(n)}this.currentPage=null,this.currentPage=new FlowEpilogue(this.root.pagecontainer),this.currentPage.start(),this.currentPage.on("ready",function(t){t.remove(),e.root.blocker_black.visible=!1},this),Tick.framerate(Tick.low)}},restart:function(){"use strict";this.currentPage=null},destroy:function(){"use strict";this.currentPage=null}},ApplicationManager={root:null,start:function(t){"use strict";this.root=t,PreloadGFX.preloader=this.root.preload_clip,ImageService.init(),SoundService.init(),Cursor.root=t;try{ContinueButton.init(t.continueBtn)}catch(e){console.log(e)}try{GameManager.init(t)}catch(e){console.log(e)}try{FlowManager.init(t)}catch(e){console.log(e)}FlowManager.gotoPage("0.0")},restart:function(){"use strict"},destroy:function(){"use strict"}};SoundController.prototype={sndObj:null,currentSndPosition:0,paused:!1,self:this,complete:!1,dispatcher:function(t){this.dispatchEvent(t)},getState:function(){return this.sndObj.state},load:function(){"use strict";var t=this;this.sndObj=new Howl({urls:[this.audioPath],autoplay:!1,loop:this.loopCount,volume:1,buffer:!1,onend:function(){t.complete=!0,t.dispatcher(new createjs.Event("complete"))},onload:function(){t.dispatcher(new createjs.Event("ready")),console.log("SoundController.onload"),PreloadGFX.hide()}}),PreloadGFX.show(!1)},volume:function(t){"use strict";null!=this.sndObj&&(this.sndObj.volume=t)},play:function(){"use strict";this.sndObj.play(),this.paused=!1,this.sndObj.state="play",this.complete=!1},stop:function(){"use strict";this.sndObj.stop(),this.paused=!1,this.sndObj.state="stop"},pause:function(){"use strict";this.sndObj.pause(),this.paused=!0,this.sndObj.state="pause"},resume:function(){"use strict";this.sndObj.play()},progress:function(){"use strict";var t=this.sndObj.pos()/this.sndObj._duration;return Math.round(1e3*t)/1e3},isComplete:function(){"use strict";return this.state="stop",this.complete},destroy:function(){"use strict";this.state="stop",this.sndObj=null,this.duration=null}},createjs.EventDispatcher.initialize(SoundController.prototype);var HUDController={init:function(){this.soundEffectPlus=new SoundController(SoundService.matrix.points.plus.src,!1),this.soundEffectMinus=new SoundController(SoundService.matrix.points.minus.src,!1),this.soundEffectPlus.load(),this.soundEffectMinus.load()},setView:function(t){this.view=t,this.update()},update:function(){if(void 0===this.view||null===this.view)throw new Error("'view' is undefined");var t=this;this.view.mood.points.gotoAndStop(PlayerStats.mood-1),this.view.health.points.gotoAndStop(PlayerStats.health-1),this.view.money.points.gotoAndStop(PlayerStats.money-1);var e=0;for(var n in PlayerStats.pointsDiff)PlayerStats.pointsDiff[n]>0?(setTimeout(function(){t.soundEffectPlus.play()},e),e+=500):PlayerStats.pointsDiff[n]<0&&(setTimeout(function(){t.soundEffectMinus.play()},e),e+=500);PlayerStats.resetDiff()}},PlayerSoundComponent=function(t){"use strict";null==PlayerSoundComponent.counter&&(PlayerSoundComponent.counter=0),PlayerSoundComponent.counter++,this.id=PlayerSoundComponent.counter,this.view=t,this.paused=!1,this.duration=0,this.listeners={tick:null,play:null,pause:null,stop:null},this.playBtn=new ButtonCustom(t.playBtn),this.pauseBtn=new ButtonCustom(t.pauseBtn),this.stopBtn=new ButtonCustom(t.stopBtn),this.playBtn.setActive(!1),this.stopBtn.setActive(!1),this.pauseBtn.setActive(!0),this.pauseBtn.visible(!1),this.listeners.play=this.playBtn.on("click",this.play,this),this.listeners.pause=this.pauseBtn.on("click",this.pause,this),this.listeners.stop=this.stopBtn.on("click",this.stop,this),this.progressionBar=t.progressionBar,this.progressionBar.scaleX=0,this.soundController=null};PlayerSoundComponent.prototype.preload=function(t){"use strict";var e=this;this.removeLoopEvent(),null!==e.soundController&&(e.soundController.destroy(),e.soundController=null),e.soundController=new SoundController(t),e.soundController.on("ready",function(t){t.remove(),e.playBtn.setActive(!0),e.stopBtn.setActive(!0),e.dispatchEvent(new createjs.Event("ready"))},e),e.soundController.on("complete",function(){this.pauseBtn.visible(!1),this.playBtn.visible(!0),e.removeLoopEvent(),e.dispatchEvent(new createjs.Event("complete"))},e),e.soundController.load()},PlayerSoundComponent.prototype.addLoopEvent=function(){"use strict";null===this.listeners.tick&&(this.listeners.tick=this.progressionBar.on("tick",this.loop,this))},PlayerSoundComponent.prototype.removeLoopEvent=function(){"use strict";this.progressionBar.off("tick",this.listeners.tick),this.listeners.tick=null},PlayerSoundComponent.prototype.loop=function(){"use strict";var t=this.soundController.progress();this.progressionBar.scaleX=t},PlayerSoundComponent.prototype.play=function(){"use strict";this.previousFrame=0,this.pauseBtn.visible(!0),this.playBtn.visible(!1),this.addLoopEvent("tick"),this.soundController.play(),this.dispatchEvent(new createjs.Event("start")),this.paused=!1,Tick.enable(),Tick.framerate(Tick.perfect)},PlayerSoundComponent.prototype.pause=function(){"use strict";this.paused||(this.removeLoopEvent(),this.pauseBtn.visible(!1),this.playBtn.visible(!0),this.paused=!0,this.soundController.pause(),Tick.disable(100))},PlayerSoundComponent.prototype.stop=function(){"use strict";this.removeLoopEvent(),this.pauseBtn.visible(!1),this.playBtn.visible(!0),this.progressionBar.scaleX=0,this.soundController.stop(),this.paused=!1,Tick.disable(100)},PlayerSoundComponent.prototype.progress=function(){"use strict";var t=this.slide.currentFrame/this.duration;return Math.round(1e3*t)/1e3},PlayerSoundComponent.prototype.reset=function(){"use strict";this.removeLoopEvent(),this.paused=!1,this.listeners=null},PlayerSoundComponent.prototype.destroy=function(){"use strict";this.removeLoopEvent(),this.view=null,this.listeners=null,this.playBtn.destroy(),this.pauseBtn.destroy(),this.stopBtn.destroy(),this.playBtn=null,this.pauseBtn=null,this.stopBtn=null},createjs.EventDispatcher.initialize(PlayerSoundComponent.prototype);var PlayerSliderComponent=function(t,e){"use strict";this.view=t,this.soundOffset=e,this.container=t.container,this.slideId=null,this.slide=null,this.paused=!1,this.state=null,this.duration=0,this.listeners={tick:null,play:null,pause:null,stop:null,auto:null},this.playBtn=new ButtonCustom(t.playBtn),this.pauseBtn=new ButtonCustom(t.pauseBtn),this.stopBtn=new ButtonCustom(t.stopBtn),(null===this.soundOffset||void 0===this.soundOffset)&&(this.soundOffset=0),this.playBtn.setActive(!1),this.stopBtn.setActive(!1),this.pauseBtn.setActive(!0),this.pauseBtn.visible(!1),this.listeners.play=this.playBtn.on("click",this.play,this),this.listeners.pause=this.pauseBtn.on("click",this.pause,this),this.listeners.stop=this.stopBtn.on("click",this.stop,this),this.progressionBar=t.progressionBar,this.progressionBar.scaleX=0,this.soundController=null};PlayerSliderComponent.prototype.preload=function(slideId,lib){"use strict";var self=this;this.slideId=slideId,Preloader.load(lib.properties.manifest,function(t){"image"===t.item.type&&(images[t.item.id]=t.result)},function(event){null!==self.slide&&(self.container.remove(slide),self.slide=null),self.slide=eval("new lib."+slideId+"()"),self.container.addChild(self.slide),self.duration=self.slide.timeline.duration-1,null!==self.soundController&&(self.soundController.destroy(),self.soundController=null);try{var snd=SoundService.getSlideSoundById(self.slideId);self.soundController=new SoundController(snd.src),self.soundController.on("ready",function(t){t.remove(),self.playBtn.setActive(!0),self.stopBtn.setActive(!0),self.dispatchEvent(new createjs.Event("ready"))},self),self.soundController.on("complete",function(){this.slide.gotoAndStop(this.slide.totalFrames-1),this.pauseBtn.visible(!1),this.playBtn.visible(!0),self.removeLoopEvent(),this.state="complete",self.dispatchEvent(new createjs.Event("complete"))},self),self.soundController.load()}catch(err){console.log(err)}},"small")},PlayerSliderComponent.prototype.addLoopEvent=function(){"use strict";null===this.listeners.tick&&(this.listeners.tick=this.slide.on("tick",this.loop,this))},PlayerSliderComponent.prototype.removeLoopEvent=function(){"use strict";this.slide.off("tick",this.listeners.tick),this.listeners.tick=null},PlayerSliderComponent.prototype.loop=function(){"use strict";var t=this.soundController.progress(),e=Math.round(this.duration*t)+this.soundOffset;e>this.slide.totalFrames-1&&(e=this.slide.totalFrames-1),this.slide.gotoAndPlay(e),this.progressionBar.scaleX=this.progress()},PlayerSliderComponent.prototype.play=function(){"use strict";var t=this;"complete"===this.state&&this.slide.gotoAndStop(0),this.pauseBtn.visible(!0),this.playBtn.visible(!1),0===this.soundOffset?this.soundController.play():this.slide.currentFrame>=this.soundOffset?this.soundController.play():this.on("autoplay",function(e){e.remove(),this.listeners.auto=null,t.soundController.play()},this),this.addLoopEvent("tick"),this.paused=!1,this.state="play",Tick.enable(),Tick.framerate(Tick.perfect)},PlayerSliderComponent.prototype.pause=function(){"use strict";this.removeLoopEvent(),this.pauseBtn.visible(!1),this.playBtn.visible(!0),this.paused=!0,this.state="pause",this.slide.stop(),this.soundController.pause(),Tick.disable(100)},PlayerSliderComponent.prototype.stop=function(){"use strict";Tick.enable(),this.progressionBar.scaleX=0,this.removeLoopEvent(),this.slide.gotoAndStop(0),this.pauseBtn.visible(!1),this.playBtn.visible(!0),this.soundController.stop(),this.state="stop",Tick.disable(100)},PlayerSliderComponent.prototype.progress=function(){"use strict";var t=this.slide.currentFrame/this.duration;return Math.round(1e3*t)/1e3},PlayerSliderComponent.prototype.reset=function(){"use strict";this.slideId=null,this.paused=!1},PlayerSliderComponent.prototype.destroy=function(){"use strict";this.view=null,this.slideId=null},createjs.EventDispatcher.initialize(PlayerSliderComponent.prototype),function(t,e,n){var i;t.properties={width:1024,height:648,fps:24,color:"#000000",manifest:[{src:"../assets/images/pool/_0_0Frontpage.jpg",id:"_0_0Frontpage"},{src:"../assets/images/pool/Bitmap33.jpg",id:"Bitmap33"}]},(t._0_0Frontpage=function(){this.initialize(e._0_0Frontpage)}).prototype=i=new n.Bitmap,i.nominalBounds=new n.Rectangle(0,0,1024,648),(t.Bitmap33=function(){this.initialize(e.Bitmap33)}).prototype=i=new n.Bitmap,i.nominalBounds=new n.Rectangle(0,0,641,270),(t.PreloaderSquares=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("rgba(194,45,27,0.329)").s().p("AgxAxIAAhiIBiAAIAABig"),this.shape.setTransform(5,5),this.shape_1=new n.Shape,this.shape_1.graphics.f("rgba(194,45,27,0.659)").s().p("AgxAxIAAhiIBiAAIAABig"),this.shape_1.setTransform(17,5),this.shape_2=new n.Shape,this.shape_2.graphics.f("rgba(194,45,27,0.898)").s().p("AgxAxIAAhiIBiAAIAABig"),this.shape_2.setTransform(17,17),this.addChild(this.shape_2,this.shape_1,this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,22,22),(t.preloaderbar=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("rgba(255,255,255,0.6)").s().p("EhP/AAeIAAg7MCf/AAAIAAA7g"),this.shape.setTransform(512,3),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,1024,6),(t.PageContainerEmpty=function(){this.initialize()}).prototype=i=new n.Container,i.nominalBounds=null,(t.SkipButton=function(t,e,i){this.initialize(t,e,i,{}),this.shape=new n.Shape,this.shape.graphics.f("#FFFFFF").s().p("AA/BHIAAiNIAjAAQAXAAAAAYIAAArQAAAKgFAGQgHAGgLAAIgQAAIAAA0gABSACIAMAAQAIAAAAgHIAAgoQAAgEgCgCQgCgCgFAAIgLAAgAAaBHIAAiNIATAAIAACNgAgCBHIgYhGIAAgBIAUhGIAQAAIgSBGIAYBHgAguBHIAAiNIATAAIAACNgAhhBHQgXAAAAgaIAAgHIATAAIAAAHQAAAJAJAAIADAAQAIAAAAgJIAAgYQAAgEgCgBIgFgEIgbgOQgDgCgBgDIgBgJIAAgeQAAgYAXAAIAMAAQAMAAAFAGQAGAGAAAMIAAAOIgTAAIAAgMQAAgFgDgCQgCgCgDAAIgEAAQgEAAgCACQgCACAAAFIAAAXQAAAFACABIAFADIAaAOQADABACADQABADAAAHIAAAfQAAAYgXAAg"),this.shape.setTransform(48,46.7),this.shape_1=new n.Shape,this.shape_1.graphics.f("#FFFFFF").s().p("AA/BHIAAiNIAjAAQAXAAAAAYIAAArQAAAKgFAGQgHAGgLAAIgQAAIAAA0gABSACIAMAAQAIAAAAgHIAAgoQAAgEgCgCQgDgCgEAAIgLAAgAAaBHIAAiNIATAAIAACNgAgCBHIgYhGIAAgBIAUhGIAQAAIgSBGIAYBHgAguBHIAAiNIATAAIAACNgAhhBHQgXAAAAgaIAAgHIATAAIAAAHQAAAJAJAAIADAAQAIAAAAgJIAAgYQAAgEgCgBIgFgEIgbgOQgDgCgBgDIgBgJIAAgeQAAgYAXAAIAMAAQAMAAAFAGQAGAGAAAMIAAAOIgTAAIAAgMQAAgFgDgCQgCgCgDAAIgEAAQgEAAgCACQgCACAAAFIAAAXQAAAFACABIAFADIAaAOQADABACADQABADAAAHIAAAfQAAAYgXAAg"),this.shape_1.setTransform(49,47.7),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape}]}).to({state:[{t:this.shape_1}]},2).to({state:[]},1).wait(1)),this.shape_2=new n.Shape,this.shape_2.graphics.f("#D18B00").s().p("Ai6C7QhOhOAAhtQAAhsBOhOQBOhOBsAAQBtAABOBOQBOBOAABsQAABthOBOQhOBOhtAAQhsAAhOhOg"),this.shape_2.setTransform(47,47),this.timeline.addTween(n.Tween.get(this.shape_2).wait(2).to({x:48,y:48},0).to({_off:!0},1).wait(1)),this.shape_3=new n.Shape,this.shape_3.graphics.f("#F1DAB5").s().p("AjiDhQhchdAAiEQAAiDBchfQBfhcCDAAQCFAABcBcQBfBfAACDQAACEhfBdQhcBfiFAAQiDAAhfhfg"),this.shape_3.setTransform(47,47),this.shape_4=new n.Shape,this.shape_4.graphics.f("#F1DAB5").s().p("AjiDhQhdhdABiEQgBiDBdhfQBfhdCDABQCEgBBdBdQBfBfAACDQAACEhfBdQhdBfiEAAQiDAAhfhfg"),this.shape_4.setTransform(48,48),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_3}]}).to({state:[{t:this.shape_4}]},2).to({state:[{t:this.shape_3}]},1).wait(1))}).prototype=i=new n.MovieClip,i.nominalBounds=new n.Rectangle(15,15,64,64),(t.GoOnButton=function(t,e,i){this.initialize(t,e,i,{}),this.shape=new n.Shape,this.shape.graphics.f("#FFFFFF").s().p("AinC1ICwi1IiziyIBUhTIEBEHIkCEEg"),this.shape.setTransform(51.4,45.9),this.timeline.addTween(n.Tween.get(this.shape).wait(2).to({x:53.4,y:47.9},0).to({_off:!0},1).wait(1)),this.shape_1=new n.Shape,this.shape_1.graphics.f("#D18B00").s().p("AkSETQhyhyAAihQAAifByhzQBzhyCfAAQChAAByByQBzBzAACfQAAChhzByQhyBzihAAQifAAhzhzg"),this.shape_1.setTransform(47,47),this.shape_2=new n.Shape,this.shape_2.graphics.f("#D18B00").s().p("AkSETQhyhzgBigQABifByhzQBzhyCfgBQCgABBzByQByBzABCfQgBCghyBzQhzByigABQifgBhzhyg"),this.shape_2.setTransform(49,49),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_1}]}).to({state:[{t:this.shape_2}]},2).to({state:[]},1).wait(1)),this.shape_3=new n.Shape,this.shape_3.graphics.f("#F1DAB5").s().p("AlMFLQiIiJgBjCQABjBCIiLQCLiIDBgBQDCABCJCIQCKCLAADBQAADCiKCJQiJCKjCAAQjBAAiLiKg"),this.shape_3.setTransform(47,47),this.shape_4=new n.Shape,this.shape_4.graphics.f("#F1DAB5").s().p("AlMFLQiIiJgBjCQABjBCIiLQCLiIDBgBQDDABCICIQCLCLAADBQAADCiLCJQiICLjDAAQjBAAiLiLg"),this.shape_4.setTransform(49,49),this.timeline.addTween(n.Tween.get({}).to({state:[{t:this.shape_3}]}).to({state:[{t:this.shape_4}]},2).to({state:[{t:this.shape_3}]},1).wait(1))}).prototype=i=new n.MovieClip,i.nominalBounds=new n.Rectangle(0,0,94,94),(t.BlockerBLACK=function(){this.initialize(),this.shape=new n.Shape,this.shape.graphics.f("#000000").s().p("ApXJXIAAyuISuAAIAASug"),this.shape.setTransform(60,60),this.addChild(this.shape)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,120,120),(t.preloadersquaresanim=function(e,i,o){this.initialize(e,i,o,{}),this.instance=new t.PreloaderSquares("synched",0),this.instance.setTransform(11,11,1,1,0,0,0,11,11),this.instance.filters=[new n.ColorFilter(0,0,0,1,204,204,204,0)],this.instance.cache(-2,-2,26,26),this.timeline.addTween(n.Tween.get(this.instance).wait(4).to({rotation:90},0).wait(5).to({rotation:180},0).wait(5).to({rotation:270},0).wait(5))}).prototype=i=new n.MovieClip,i.nominalBounds=new n.Rectangle(0,0,22,22),(t.preloader=function(){this.initialize(),this.bar=new t.preloaderbar,this.addChild(this.bar)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(-1,-1,1026,8),(t.ContinueButton=function(){this.initialize(),this.skipBtn=new t.SkipButton,this.skipBtn.setTransform(47,47,1,1,0,0,0,47,47),new n.ButtonHelper(this.skipBtn,0,1,2,!1,new t.SkipButton,3),this.nextBtn=new t.GoOnButton,this.nextBtn.setTransform(47,47,1,1,0,0,0,47,47),new n.ButtonHelper(this.nextBtn,0,1,2,!1,new t.GoOnButton,3),this.addChild(this.nextBtn,this.skipBtn)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,96,96),(t.PreloaderMain=function(){this.initialize(),this.instance=new t.preloadersquaresanim,this.instance.setTransform(5,10,2.273,2.273),this.progress_bar=new t.preloader,this.shape=new n.Shape,this.shape.graphics.f("rgba(0,0,0,0.329)").s().p("EhP/AyoMAAAhlPMCf/AAAMAAABlPg"),this.shape.setTransform(512,324),this.addChild(this.shape,this.progress_bar,this.instance)}).prototype=i=new n.Container,i.nominalBounds=new n.Rectangle(0,0,1024,648),(t.Main=function(e,i,o){this.initialize(e,i,o,{preload:4,frontpage:14,start:24,character_build:33,poohouse:48,germany:58}),this.frame_0=function(){this.stop()},this.timeline.addTween(n.Tween.get(this).call(this.frame_0).wait(84)),this.preload_clip=new t.PreloaderMain,this.timeline.addTween(n.Tween.get(this.preload_clip).wait(84)),this.blocker_black=new t.BlockerBLACK,this.blocker_black.setTransform(-10,0,8.7,6.4),this.timeline.addTween(n.Tween.get(this.blocker_black).wait(84)),this.topbarcontainer=new t.PageContainerEmpty,this.timeline.addTween(n.Tween.get(this.topbarcontainer).wait(84)),this.continueBtn=new t.ContinueButton,this.continueBtn.setTransform(951,579.4,1,1,0,0,0,48,48),this.continueBtn._off=!0,this.timeline.addTween(n.Tween.get(this.continueBtn).wait(14).to({_off:!1},0).wait(70)),this.pagecontainer=new t.PageContainerEmpty,this.pagecontainer.setTransform(0,108),this.timeline.addTween(n.Tween.get(this.pagecontainer).wait(84)),this.instance=new t._0_0Frontpage,this.instance._off=!0,this.timeline.addTween(n.Tween.get(this.instance).wait(14).to({_off:!1},0).to({_off:!0},10).wait(60)),this.instance_1=new t.Bitmap33,this.instance_1.setTransform(171,137),this.timeline.addTween(n.Tween.get(this.instance_1).wait(84))}).prototype=i=new n.MovieClip,i.nominalBounds=new n.Rectangle(502,324,1044,768)}(mainlib=mainlib||{},images=images||{},createjs=createjs||{},ss=ss||{});var mainlib,images,createjs,ss,canvas;$(function(){"use strict";var t=this;Environment.init(),t.lib=mainlib,t.imagesContainer=images,t.canvas=Canvas.create(1024,648,Environment.ratio),t.canvas.style.background="#000",$(".canvas").append(t.canvas);var e=function(e){"image"===e.item.type&&(t.imagesContainer[e.item.id]=e.result)},n=function(){t.exportRoot=new t.lib.Main;try{var e=new createjs.Stage(t.canvas);e.addChild(t.exportRoot),e.enableMouseOver(20),createjs.Touch.enable(e),e.scaleX=e.scaleY=Environment.ratio,e.update(),Tick.init(e,15),Tick.enable(),ApplicationManager.start(t.exportRoot)}catch(n){console.log(n)}};Preloader.load(t.lib.properties.manifest,e,n,"full")});